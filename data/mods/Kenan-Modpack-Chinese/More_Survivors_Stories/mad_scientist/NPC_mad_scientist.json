[
  {
    "type": "npc",
    "id": "NPC_mad_scientist",
    "gender": "male",
    "name_suffix": "科学家",
    "class": "NC_mad_scientist",
    "attitude": 1,
    "mission": 8,
    "chat": "TALK_mad_scientist_start",
    "faction": "no_faction",
    "mission_offered": "MISSION_mad_scientist_1"
  },
  {
    "type": "npc_class",
    "id": "NC_mad_scientist",
    "name": {
      "str": "Scientist"
    },
    "job_description": "Scientist.",
    "common": false,
    "bonus_str": {
      "rng": [
        -3,
        -1
      ]
    },
    "bonus_dex": {
      "rng": [
        -3,
        -1
      ]
    },
    "bonus_int": {
      "rng": [
        2,
        8
      ]
    },
    "bonus_per": {
      "rng": [
        -1,
        4
      ]
    },
    "worn_override": "NC_mad_scientist_worn",
    "traits": [
      {
        "group": "Appearance_Germanic"
      },
      {
        "trait": "BGSS_mad_scientist"
      },
      {
        "group": "NPC_starting_traits"
      }
    ],
    "skills": [
      {
        "skill": "ALL",
        "level": {
          "mul": [
            {
              "one_in": 3
            },
            {
              "sum": [
                {
                  "dice": [
                    2,
                    2
                  ]
                },
                {
                  "constant": -4
                }
              ]
            }
          ]
        }
      },
      {
        "skill": "computer",
        "bonus": {
          "rng": [
            1,
            4
          ]
        }
      },
      {
        "skill": "electronics",
        "bonus": {
          "rng": [
            1,
            3
          ]
        }
      },
      {
        "skill": "cooking",
        "bonus": {
          "rng": [
            1,
            4
          ]
        }
      },
      {
        "skill": "chemistry",
        "bonus": {
          "rng": [
            2,
            5
          ]
        }
      },
      {
        "skill": "firstaid",
        "bonus": {
          "rng": [
            2,
            4
          ]
        }
      }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_mad_scientist_worn",
    "subtype": "collection",
    "entries": [
      {
        "item": "briefs"
      },
      {
        "item": "coat_lab"
      },
      {
        "item": "dress_shirt"
      },
      {
        "item": "pants"
      },
      {
        "item": "socks"
      },
      {
        "item": "boots"
      },
      {
        "item": "gloves_rubber"
      },
      {
        "item": "wristwatch"
      },
      {
        "item": "glasses_safety"
      }
    ]
  },
  {
    "id": "TALK_mad_scientist_start",
    "type": "talk_topic",
    "dynamic_line": "你<swear>是谁 <name_b>，你是怎么绕过我所有的陷阱的？",
    "responses": [
      {
        "text": "嘿，放松，<name_g>。请把枪放下。",
        "trial": {
          "type": "PERSUADE",
          "difficulty": 50,
          "mod": [
            [
              "BRAVERY",
              2
            ],
            [
              "FEAR",
              -2
            ],
            [
              "TRUST",
              2
            ]
          ]
        },
        "success": {
          "topic": "TALK_mad_scientist_start_check",
          "opinion": {
            "trust": 2,
            "fear": -2
          }
        },
        "failure": {
          "topic": "TALK_mad_scientist_start_check"
        }
      },
      {
        "text": "我只是在旅行，我不是故意打扰你的。",
        "topic": "TALK_mad_scientist_start_check"
      }
    ]
  },
  {
    "id": "TALK_mad_scientist_start_check",
    "type": "talk_topic",
    "dynamic_line": "你在撒谎<name_b>。他们派你来的，是吗？这是他们的全部错误！他们像其他人一样欺骗我！我不是故意伤害你的，我发誓！",
    "responses": [
      {
        "text": "老实说，我不知道你在说什么。<name_g>",
        "trial": {
          "type": "LIE",
          "difficulty": 25,
          "mod": [
            [
              "TRUST",
              3
            ]
          ]
        },
        "success": {
          "topic": "TALK_mad_scientist_start_trust"
        },
        "failure": {
          "topic": "TALK_mad_scientist_start_insult"
        }
      },
      {
        "text": "你疯了！",
        "topic": "TALK_mad_scientist_start_insult"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_start_insult",
    "dynamic_line": "我不相信你的任何谎言！死吧，骗子！",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": "insult_combat"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_start_trust",
    "dynamic_line": "嗯，也许你是对的。我为我刚才说的话道歉。",
    "responses": [
      {
        "text": "没问题，<name_g>。",
        "topic": "TALK_mad_scientist_1",
        "effect": {
          "npc_first_topic": "TALK_mad_scientist_1"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": [
      "TALK_mad_scientist_1",
      "TALK_mad_scientist_Background",
      "TALK_mad_scientist_Background_they"
    ],
    "dynamic_line": "<greet>",
    "responses": [
      {
        "text": "关于那个任务……",
        "topic": "TALK_MISSION_INQUIRE",
        "condition": "has_assigned_mission"
      },
      {
        "text": "<BGSS_intro_question>",
        "topic": "TALK_mad_scientist_Background"
      },
      {
        "text": "那血清呢？",
        "topic": "TALK_mad_scientist_serum",
        "condition": {
          "npc_has_var": "mad_scientist_experiment",
          "type": "flag",
          "context": "experiment",
          "value": "yes"
        },
        "switch": true
      },
      {
        "text": "需要帮忙么？",
        "topic": "TALK_MISSION_LIST",
        "switch": true
      },
      {
        "text": "你想跟着我吗？",
        "topic": "TALK_SUGGEST_FOLLOW",
        "condition": {
          "npc_has_var": "u_helped_mad_scientist",
          "type": "flag",
          "context": "help",
          "value": "yes"
        }
      },
      {
        "text": "再见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_Background",
    "dynamic_line": "我在一家大型制药公司工作，我一生都在研究动物，直到灾难降临我家。我设法逃走，躲在树林里，直到我找到了这个可爱的庇护所，在那里我可以一块一块地工作。",
    "responses": [
      {
        "text": "我们第一次见面的时候，你对来找你的人大喊大叫。那是什么？",
        "topic": "TALK_mad_scientist_Background_they"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_Background_they",
    "dynamic_line": "啊，别担心。反应后我吸入了烟雾，开始产生各种幻觉，我把你当成了幻觉之一。如你所见，这里没有正常的通风，我也不想在外面工作。这里更安静，更安全。"
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_serum",
    "dynamic_line": "我可以制造特殊的血清，可以给你动物的力量！你想成为我的测试对象吗？<name_g>",
    "responses": [
      {
        "text": "当然，给我做一个。",
        "topic": "TALK_mad_scientist_serum_make"
      },
      {
        "text": "<done_conversation_section>",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_serum_make",
    "dynamic_line": "好吧，我需要一天的时间。待会再来找我。",
    "responses": [
      {
        "text": "我会等的。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_lose_var": "mad_scientist_experiment",
            "type": "flag",
            "context": "experiment"
          },
          {
            "npc_first_topic": "TALK_mad_scientist_serum_making"
          },
          {
            "npc_add_var": "making_serum",
            "type": "flag",
            "context": "experiment",
            "time": true
          }
        ]
      },
      {
        "text": "实际上，我改变主意了。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_serum_making",
    "dynamic_line": {
      "npc_compare_time_since_var": "making_serum",
      "type": "flag",
      "context": "experiment",
      "op": ">",
      "time": "1 day",
      "yes": "很好，血清准备好了。我们可以试试吗？",
      "no": "我需要更多的时间，<name_g>。晚点再来。"
    },
    "responses": [
      {
        "text": "我们开始吧！",
        "topic": "TALK_mad_scientist_experiment",
        "condition": {
          "npc_compare_time_since_var": "making_serum",
          "type": "flag",
          "context": "experiment",
          "op": ">",
          "time": "1 day"
        }
      },
      {
        "text": "…",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_experiment",
    "dynamic_line": "我们开始吧……”他从口袋里拿出一支注射器别紧张，不会疼的。",
    "responses": [
      {
        "text": "希望如此…",
        "topic": "TALK_mad_scientist_experiment1"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_experiment1",
    "dynamic_line": "*给你注入了一些东西。”感觉奇怪吗？”",
    "responses": [
      {
        "text": "没什么，医生。",
        "topic": "TALK_mad_scientist_experiment2"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_experiment2",
    "dynamic_line": "嗯，也许我忘了加些东西…",
    "responses": [
      {
        "text": "等等，医生。我有点奇怪…",
        "topic": "TALK_mad_scientist_experiment3",
        "effect": "assign_mission"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_experiment3",
    "dynamic_line": "你看起来…该死！<name_g>，你怎么了！",
    "speaker_effect": {
      "sentinel": "hadnt_trait",
      "condition": {
        "not": {
          "u_has_trait": "CHAOTIC_BAD"
        }
      },
      "effect": {
        "u_add_trait": "CHAOTIC_BAD"
      }
    },
    "responses": [
      {
        "text": "怎么了，医生？",
        "topic": "TALK_mad_scientist_experiment4"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_experiment4",
    "dynamic_line": "*把他的袖珍镜子给你了。”对不起，<name_g>，我刚想起来忘了加什么了。都是我的错……”\n\n你对着镜子惊叫起来。",
    "responses": [
      {
        "text": "医生，你对我做了什么？我成了一个可憎的人！",
        "topic": "TALK_mad_scientist_experiment5"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_experiment5",
    "dynamic_line": "别担心，我知道怎么修。我只想多找些浆果…",
    "responses": [
      {
        "text": "你在说什么？！",
        "topic": "TALK_mad_scientist_experiment6"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_experiment6",
    "dynamic_line": "附近生长着一些非常有趣的浆果，这是我在<the_cataclysm>以前从未见过的。我设法挑选了一些，并对他们进行了研究。我发现了它们惊人的治疗作用。我会告诉你怎么找到我最后一次见到他们的地方。去那儿给我拿三个浆果来，这样我就可以给你治病了。但是请快点，如果你不及时赶到，恐怕变化是不可逆转的。",
    "responses": [
      {
        "text": "我希望这有帮助…",
        "topic": "TALK_DONE",
        "effect": {
          "npc_first_topic": "TALK_mad_scientist_wait"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_wait",
    "dynamic_line": "你找到他们了吗？",
    "responses": [
      {
        "text": "来，拿着。",
        "topic": "TALK_mad_scientist_wait_done",
        "condition": {
          "u_has_items": {
            "item": "marloss_berry",
            "count": 3
          }
        },
        "effect": [
          {
            "u_consume_item": "marloss_berry",
            "count": 3
          },
          {
            "npc_add_trait": "MARLOSS"
          }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_wait_done",
    "dynamic_line": "很好。在这儿等一会儿。不超过一天。",
    "responses": [
      {
        "text": "请快点，医生…",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_add_var": "mad_scientist_need_time",
            "type": "flag",
            "context": "wait",
            "time": true
          },
          {
            "npc_first_topic": "TALK_mad_scientist_brew"
          }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_brew",
    "dynamic_line": {
      "npc_compare_time_since_var": "mad_scientist_need_time",
      "type": "flag",
      "context": "wait",
      "op": ">",
      "time": "12 hours",
      "yes": "完成了！我们来测试一下？",
      "no": "我需要更多的时间。"
    },
    "responses": [
      {
        "text": "已经注射了！",
        "topic": "TALK_mad_scientist_brew_check",
        "condition": {
          "npc_compare_time_since_var": "mad_scientist_need_time",
          "type": "flag",
          "context": "wait",
          "op": ">",
          "time": "12 hours"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_brew_check",
    "dynamic_line": "好吧，我们等一会儿。",
    "responses": [
      {
        "text": "…",
        "trial": {
          "type": "CONDITION",
          "condition": {
            "u_has_mission": "MISSION_mad_scientist_5"
          }
        },
        "success": {
          "topic": "TALK_mad_scientist_brew_good"
        },
        "failure": {
          "topic": "TALK_mad_scientist_brew_bad"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_brew_good",
    "dynamic_line": "唷，你看起来又正常了。我很高兴<very>运行良好，<name_g>。你知道，我不想再做这样的实验了。是时候休息一下了。顺便说一下，我这里有些剩菜，我会把它们扔掉的。如果你想的话，可以吃点这个。",
    "speaker_effect": [
      {
        "effect": [
          "mission_success",
          "clear_mission",
          {
            "npc_first_topic": "TALK_mad_scientist_1"
          }
        ]
      },
      {
        "sentinel": "hadnt_trait",
        "effect": {
          "u_lose_trait": "CHAOTIC_BAD"
        }
      }
    ],
    "responses": [
      {
        "text": "深红色液体。",
        "topic": "TALK_DONE",
        "effect": {
          "u_spawn_item": "iv_mutagen_alpha",
          "container": "test_tube"
        }
      },
      {
        "text": "红色液体。",
        "topic": "TALK_DONE",
        "effect": {
          "u_spawn_item": "iv_mutagen_beast",
          "container": "test_tube"
        }
      },
      {
        "text": "天蓝色液体。",
        "topic": "TALK_DONE",
        "effect": {
          "u_spawn_item": "iv_mutagen_bird",
          "container": "test_tube"
        }
      },
      {
        "text": "橙色液体。",
        "topic": "TALK_DONE",
        "effect": {
          "u_spawn_item": "iv_mutagen_ursine",
          "container": "test_tube"
        }
      },
      {
        "text": "彩虹液体。",
        "topic": "TALK_DONE",
        "effect": {
          "u_spawn_item": "iv_mutagen_raptor",
          "container": "test_tube"
        }
      },
      {
        "text": "谢谢，我会过去的。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_mad_scientist_brew_bad",
    "dynamic_line": "抱歉，<name_g>，你没及时赶到。祝你下次好运吧。",
    "speaker_effect": {
      "effect": [
        {
          "npc_first_topic": "TALK_mad_scientist_1"
        },
        "clear_mission"
      ]
    },
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "MISSION_mad_scientist_1",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "蜘蛛卵"
    },
    "description": "带15个蜘蛛蛋。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "spider_egg",
    "count": 15,
    "difficulty": 0,
    "value": 0,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_mad_scientist_2",
    "dialogue": {
      "describe": "-",
      "offer": "在大灾变之前，我正在研究各种药物和病毒，我们在动物身上进行了测试。我想这一切的原因之一是我们实验室释放的病毒。为了完全确定这一点，我需要研究改变的动物群。你准备好帮我了吗？",
      "accepted": "很好。首先，我想研究病毒是如何影响像蜘蛛这样可爱的小动物的。也许你看到了他们的遭遇。可怕的景象。给我15个蜘蛛蛋。",
      "rejected": "呸。",
      "advice": "蜘蛛喜欢在森林和沼泽附近定居。",
      "inquire": "你的搜索进展如何？",
      "success": "好极了，我马上开始学习！",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_mad_scientist_2",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "蚂蚁卵"
    },
    "description": "带20个蚂蚁蛋。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "ant_egg",
    "count": 20,
    "difficulty": 0,
    "value": 0,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_mad_scientist_3",
    "dialogue": {
      "describe": "-",
      "offer": "多亏了你给我带来的样品，我离解开大灾变之谜又近了一步。你想帮我再拿些样品吗？",
      "accepted": "很好。这次，我想研究病毒是如何影响像蚂蚁这样可爱的动物的。也许你看到了他们的遭遇。这些可怜的勤劳的工人已经变异成可怕的生物：汽车大小，刀爪，几丁质盔甲，还有一些还懂得吐火！可怕的景象。给我20个蚂蚁蛋。",
      "rejected": "呸。",
      "advice": "据我所知，他们一直喜欢躲在地下。当然，这些版本的女王也隐藏在下面的某个地方。",
      "inquire": "你的搜索进展如何？",
      "success": "好极了，我马上开始学习！",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_mad_scientist_3",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "剃须刀鱼子"
    },
    "description": "带8只剃刀来。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "razorclaw_roe",
    "count": 8,
    "difficulty": 0,
    "value": 0,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_mad_scientist_4",
    "dialogue": {
      "describe": "-",
      "offer": "多亏了你给我带来的样品，我离解开大灾变之谜又近了一步。你想帮我再拿些样品吗？",
      "accepted": "很好。这一次，我想研究病毒是如何影响像razorclaw这样的可爱动物的。这些生物已经变异成了真正的死亡机器！可怕的景象。给我拿8把剃刀。",
      "rejected": "呸。",
      "advice": "它们可以在各种水源附近找到，如河流或湖泊。",
      "inquire": "你的搜索进展如何？",
      "success": "好极了，我马上开始学习！",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_mad_scientist_4",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "蜂王浆"
    },
    "description": "带5个蜂王浆。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "royal_jelly",
    "count": 5,
    "difficulty": 0,
    "value": 0,
    "end": {
      "effect": {
        "npc_add_var": "mad_scientist_experiment",
        "type": "flag",
        "context": "experiment",
        "value": "yes"
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_mad_scientist_5",
    "dialogue": {
      "describe": "-",
      "offer": "多亏了你给我带来的样品，我离解开大灾变之谜又近了一步。你想帮我再拿些样品吗？",
      "accepted": "很好。这次，我想研究病毒是如何影响像蜜蜂这样可爱的动物的。这些生物已经变异成真正的飞行和嗡嗡声杀手！可怕的景象。给我5个蜂王浆。",
      "rejected": "呸",
      "advice": "它们仍然在温暖的地方建蜂巢，但由于它们现在只有母牛那么大，蜂巢占据了更多的空间，你应该不难找到它们。",
      "inquire": "你的搜索进展如何？",
      "success": "好极了，我立刻开始学习。顺便说一句，多亏了你给我带来的样品，我在自己的研究中取得了一些进展。我不想详述，但根据我的发现，我可以制造出一种可以增强人类潜能的实验血清。如果你想亲自体验，请告诉我。",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_mad_scientist_5",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "野外实验"
    },
    "description": "对你来说不太好。如果你及时带上3个浆果，也许它可以还原…",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "npc_has_var": "-",
      "type": "-",
      "context": "-",
      "value": "-"
    },
    "difficulty": 0,
    "value": 0,
    "start": {
      "reveal_om_ter": "fungal_flowers",
      "effect": [
        {
          "u_add_effect": "mad_scientist_experiment",
          "duration": "PERMANENT"
        },
        {
          "u_add_trait": "FEATHERS"
        },
        {
          "u_add_trait": "ARM_TENTACLES"
        },
        {
          "u_add_trait": "PER_SLIME"
        },
        {
          "u_add_trait": "LIZ_EYE"
        },
        {
          "u_add_trait": "HORNS"
        }
      ]
    },
    "end": {
      "effect": [
        {
          "npc_add_var": "u_helped_mad_scientist",
          "type": "flag",
          "context": "help",
          "value": "yes"
        },
        {
          "u_lose_effect": "mad_scientist_experiment"
        },
        {
          "u_lose_trait": "FEATHERS"
        },
        {
          "u_lose_trait": "ARM_TENTACLES"
        },
        {
          "u_lose_trait": "PER_SLIME"
        },
        {
          "u_lose_trait": "LIZ_EYE"
        },
        {
          "u_lose_trait": "HORNS"
        }
      ]
    },
    "deadline_low": 3,
    "deadline_high": 7,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "-",
      "accepted": "-",
      "rejected": "-",
      "advice": "-",
      "inquire": "-",
      "success": "-",
      "success_lie": "-",
      "failure": "-"
    }
  }
]