[
  {
    "type": "npc",
    "id": "NPC_meteorologist",
    "class": "NC_meteorologist",
    "name_suffix": "气象学家",
    "attitude": 0,
    "mission": 7,
    "chat": "TALK_meteorologist_1",
    "faction": "no_faction",
    "mission_offered": "MISSION_meteorologist_1"
  },
  {
    "type": "npc_class",
    "id": "NC_meteorologist",
    "name": {
      "str": "Meteorologist"
    },
    "job_description": "Meteorologist.",
    "common": false,
    "bonus_str": {
      "rng": [
        -2,
        2
      ]
    },
    "bonus_dex": {
      "rng": [
        -2,
        2
      ]
    },
    "bonus_int": {
      "rng": [
        2,
        5
      ]
    },
    "bonus_per": {
      "rng": [
        -1,
        3
      ]
    },
    "worn_override": "NC_meteorologist_worn",
    "traits": [
      {
        "group": "NPC_starting_traits"
      },
      {
        "group": "Appearance_demographics"
      },
      {
        "trait": "BGSS_METEOROLOGIST"
      }
    ],
    "skills": [
      {
        "skill": "ALL",
        "level": {
          "mul": [
            {
              "one_in": 3
            },
            {
              "sum": [
                {
                  "dice": [
                    2,
                    2
                  ]
                },
                {
                  "constant": -4
                }
              ]
            }
          ]
        }
      },
      {
        "skill": "computer",
        "bonus": {
          "rng": [
            2,
            3
          ]
        }
      },
      {
        "skill": "electronics",
        "bonus": {
          "rng": [
            3,
            6
          ]
        }
      },
      {
        "skill": "chemistry",
        "bonus": {
          "rng": [
            2,
            3
          ]
        }
      }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_meteorologist_worn",
    "subtype": "collection",
    "entries": [
      {
        "item": "briefs"
      },
      {
        "item": "coat_lab"
      },
      {
        "item": "dress_shirt"
      },
      {
        "item": "pants"
      },
      {
        "item": "socks"
      },
      {
        "item": "boots"
      },
      {
        "item": "gloves_rubber"
      },
      {
        "item": "wristwatch"
      },
      {
        "item": "glasses_safety"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": [
      "TALK_meteorologist_1"
    ],
    "dynamic_line": {
      "npc_has_var": "u_helped_meteorologist",
      "type": "flag",
      "context": "mission",
      "value": "yes",
      "yes": "跑，我要跑，跑哪…",
      "no": {
        "npc_has_var": "u_met_meteorologist",
        "type": "general",
        "context": "meeting",
        "value": "yes",
        "yes": "气温，降水量，但是…哦，对不起，我没注意到你。你好。",
        "no": "我好久没见到活人了。很高兴看到另一个幸存者。你好，<name_g>。"
      }
    },
    "speaker_effect": {
      "sentinel": "u_met_meteorologist",
      "effect": [
        {
          "npc_add_var": "u_met_meteorologist",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        }
      ]
    },
    "responses": [
      {
        "text": "关于那个任务……",
        "condition": "has_assigned_mission",
        "topic": "TALK_MISSION_INQUIRE"
      },
      {
        "text": "<BGSS_intro_question>",
        "topic": "TALK_meteorologist_Background"
      },
      {
        "text": "也许我能帮你解决你的问题？",
        "topic": "TALK_meteorologist_safety",
        "condition": {
          "npc_has_var": "u_helped_meteorologist",
          "type": "flag",
          "context": "mission",
          "value": "yes"
        },
        "switch": true
      },
      {
        "text": "需要帮忙么？",
        "switch": true,
        "trial": {
          "type": "CONDITION",
          "condition": {
            "not": {
              "npc_compare_time_since_var": "meteorologist_wait",
              "type": "time",
              "context": "mission",
              "op": "<",
              "time": "2 days"
            }
          }
        },
        "success": {
          "effect": [
            {
              "npc_lose_var": "meteorologist_wait",
              "type": "time",
              "context": "mission"
            }
          ],
          "topic": "TALK_MISSION_LIST"
        },
        "failure": {
          "topic": "TALK_meteorologist_wait"
        }
      },
      {
        "text": "再见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_meteorologist_wait",
    "dynamic_line": "我需要更多的时间。晚点再来。",
    "responses": [
      {
        "text": "没问题。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_meteorologist_safety",
    "dynamic_line": "救命啊？帮什么忙？哦，是的，是的。如果你知道一个有很多幸存者的地方，你能带我去吗？我怀疑我一个人能活下去…",
    "responses": [
      {
        "text": "一起走吧。",
        "topic": "TALK_DONE",
        "effect": [
          "follow_only",
          {
            "npc_first_topic": "TALK_meteorologist_safety_lead"
          }
        ]
      },
      {
        "text": "[组队]与我同行吧，如何？",
        "topic": "TALK_SUGGEST_FOLLOW"
      },
      {
        "text": "下次再说吧。",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_meteorologist_safety_lead",
    "dynamic_line": "我们到了吗，<name_g>？",
    "responses": [
      {
        "text": "是的，你现在可以放松了。",
        "topic": "TALK_meteorologist_safety_done",
        "condition": {
          "or": [
            {
              "npc_at_om_location": "FACTION_CAMP_ANY"
            },
            {
              "npc_at_om_location": "evac_center_18"
            },
            {
              "npc_at_om_location": "robofachq_surface_entrance"
            }
          ]
        }
      },
      {
        "text": "别担心，我们很快就到了。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_meteorologist_safety_done",
    "dynamic_line": "非常感谢。我永远不会忘记你的好意，<name_g>。把这本书当作我的谢意。",
    "responses": [
      {
        "text": "再见。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "u_spawn_item": "adv_chemistry"
          },
          "stop_following",
          {
            "npc_first_topic": "TALK_meteorologist_safe"
          }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_meteorologist_safe",
    "dynamic_line": "我很高兴你还活着。",
    "responses": [
      {
        "text": "我也是。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_meteorologist_Background",
    "dynamic_line": "我只是个普通的气象学家。最近几年我在一个气象站工作，监测天气，空气状况，读写报告，制定时间表……总的来说，完全无聊。空闲时间我学习电子和无线电工程，制造各种各样的设备，有些是为了工作，有些只是为了好玩。当第一次暴乱开始时，我把所有的东西都收集起来，设法随身携带，在这里安顿下来。从那以后，我一直坐在这里，浪费时间做各种各样的废话。",
    "responses": [
      {
        "text": "<done_conversation_section>",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "id": "MISSION_meteorologist_1",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "给气象学家找些废品"
    },
    "description": "气象学家要求给他带来50块废料。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "scrap",
    "count": 50,
    "difficulty": 0,
    "value": 100,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_meteorologist_2",
    "dialogue": {
      "describe": "我们需要废金属来组装无人机…",
      "offer": "我在这里坐了很长时间，一直在想外面的一切有多糟糕。我想造一架无人机，我可以用来飞越新英格兰，检查空气状况，从上面拍几张照片，看看情况如何。我们后面的房间里有很多有用的东西，但我还是错过了很多东西。你看起来像个有经验的生存主义者。你能帮助我吗？",
      "accepted": "很好。我只需要一点东西：50块废电池，6个中型电池，5个小的高质量镜头和一个无线电遥控器。暂时把废品拿来，但别忘了剩下的。",
      "rejected": "下次再说吧……",
      "advice": "我认为这不是一项困难的任务。当然，这里面有很多。",
      "inquire": "怎么样？",
      "success": "太好了，我正在努力…",
      "success_lie": "你为什么这么说？",
      "failure": "…"
    }
  },
  {
    "id": "MISSION_meteorologist_2",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "给气象学家找电池"
    },
    "description": "气象学家要求给他带6个中型电池。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "medium_battery_cell",
    "count": 6,
    "difficulty": 0,
    "value": 100,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_meteorologist_3",
    "dialogue": {
      "describe": "我们需要电池来组装无人机…",
      "offer": "嗯，名单上的下一个…是的，电池。6节中号电池就足够了。",
      "accepted": "我会一直在这里等你。",
      "rejected": "下次再说吧……",
      "advice": "试着找一些电池供电的小饰品，把它们拆开。",
      "inquire": "怎么样？",
      "success": "太好了，我会继续努力的…",
      "success_lie": "你为什么这么说？",
      "failure": "…"
    }
  },
  {
    "id": "MISSION_meteorologist_3",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "为气象学家收集镜头"
    },
    "description": "气象学家要求给他带去6个小型高清镜头。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "lens_small",
    "count": 6,
    "difficulty": 0,
    "value": 100,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_meteorologist_4",
    "dialogue": {
      "describe": "我们的无人机需要高质量的镜头…",
      "offer": "嗯，名单上的下一个…是的，镜头。5个小的高质量镜头就足够了。",
      "accepted": "我会一直在这里等你。",
      "rejected": "下次再说吧……",
      "advice": "试着找摄像头拆卸。望远镜或显微镜也可以工作。",
      "inquire": "怎么样？",
      "success": "太好了，我会继续努力的…",
      "success_lie": "你为什么这么说？",
      "failure": "…"
    }
  },
  {
    "id": "MISSION_meteorologist_4",
    "type": "mission_definition",
    "name": {
      "str": "查找无线电控制"
    },
    "description": "气象学家要求给他带一个无线电控制器。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "radiocontrol",
    "count": 1,
    "difficulty": 0,
    "value": 100,
    "end": {
      "effect": [
        {
          "npc_add_var": "meteorologist_wait",
          "type": "time",
          "context": "mission",
          "time": true
        },
        {
          "u_spawn_item": "textbook_electronics"
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_meteorologist_5",
    "dialogue": {
      "describe": "我们需要一个遥控器来组装一架无人机…",
      "offer": "好吧，名单上的下一个…是的，无线电控制。任何类型都可以，但最简单的一个更好，所以我可以很容易地重新配置它为我的无人机。",
      "accepted": "我会一直在这里等你。",
      "rejected": "下次再说吧……",
      "advice": "我建议你在商店里搜索，例如电子产品店或玩具店。",
      "inquire": "怎么样？",
      "success": "太好了，只剩下很少的工作了。我需要几天来完成这一切，并在工作中尝试。希望一切顺利！我在做无人机的时候，你可以读这本书。也许你可以从中学到一些新东西。",
      "success_lie": "你为什么这么说？",
      "failure": "…"
    }
  },
  {
    "id": "MISSION_meteorologist_5",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "找到坠毁的无人机"
    },
    "description": "气象学家要求把坠毁的无人机带给他。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "module_meteorologist",
    "count": 1,
    "difficulty": 0,
    "value": 100,
    "start": {
      "assign_mission_target": {
        "om_terrain": "field",
        "reveal_radius": 1,
        "search_range": 50,
        "min_distance": 15,
        "random": true
      },
      "update_mapgen": {
        "place_item": [
          {
            "item": "module_meteorologist",
            "x": [
              5,
              15
            ],
            "y": [
              5,
              15
            ]
          },
          {
            "item": "scrap",
            "x": [
              5,
              15
            ],
            "y": [
              5,
              15
            ],
            "repeat": [
              5,
              30
            ]
          },
          {
            "item": "lens_small",
            "x": [
              5,
              15
            ],
            "y": [
              5,
              15
            ],
            "chance": 45,
            "repeat": [
              1,
              3
            ]
          },
          {
            "item": "cable",
            "x": [
              5,
              15
            ],
            "y": [
              5,
              15
            ],
            "amount": 10,
            "repeat": [
              3,
              10
            ]
          }
        ],
        "place_monster": [
          {
            "monster": "mon_mi_go",
            "x": [
              5,
              15
            ],
            "y": [
              5,
              15
            ],
            "repeat": [
              2,
              5
            ]
          }
        ]
      }
    },
    "end": {
      "effect": [
        {
          "npc_add_var": "u_helped_meteorologist",
          "type": "flag",
          "context": "mission",
          "value": "yes"
        }
      ],
      "opinion": {
        "trust": 4
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "我把无人机弄丢了，我们应该知道发生了什么…",
      "offer": "我很高兴你还活着，你没有忘记我。这架无人机原来很棒，它成功起飞，甚至能飞几百米！不幸的是，在那之后，我失去了控制…我不知道发生了什么。也许你可以查一下？我有点害怕出去…",
      "accepted": "我会一直在这里等你。",
      "rejected": "下次再说吧……",
      "advice": "我不太清楚发生了什么事。也许有什么东西注意到了我的无人机，想把它弄下来。小心。",
      "inquire": "怎么样？",
      "success": "嗯，我知道那架无人机不在你身边。也许至少内存模块还在？好吧，给我看看…嗯，情况比我预想的更糟，更糟…我感觉不太好。我在这里已经不安全了。我得跑，跑个地方。但是如果这些怪物到处都是，该往哪里跑…",
      "success_lie": "你为什么这么说？",
      "failure": "…"
    }
  }
]