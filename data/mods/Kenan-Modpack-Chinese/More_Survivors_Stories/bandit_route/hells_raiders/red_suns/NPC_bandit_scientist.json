[
  {
    "//": "TODO write, like, everything",
    "type": "npc",
    "id": "NPC_bandit_rs_scientist",
    "gender": "female",
    "name_suffix": "科学家",
    "class": "NC_SCIENTIST",
    "attitude": 1,
    "mission": 8,
    "chat": "TALK_bandit_rs_scientist_start",
    "faction": "no_faction",
    "mission_offered": "MISSION_bandit_rs_scientist_1"
  },
  {
    "id": "TALK_bandit_rs_scientist_start",
    "type": "talk_topic",
    "dynamic_line": "什么，有个劫匪决定偷我的东西？！走开，我有武器！”她在面前挥舞着一把剪刀似的东西。”我是认真的！",
    "responses": [
      {
        "text": "嘿，放松，<name_g>。请把枪放下。",
        "topic": "TALK_bandit_rs_scientist_start1"
      }
    ]
  },
  {
    "id": "TALK_bandit_rs_scientist_start1",
    "type": "talk_topic",
    "dynamic_line": "你想要什么？我什么都没有，我在努力活下去。拜托，走开。",
    "responses": [
      {
        "text": "不是选项，<name_g>。你得跟我走。",
        "topic": "TALK_bandit_rs_scientist_start2"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_start2",
    "dynamic_line": "我为什么要和你一起去，你到底是谁？",
    "responses": [
      {
        "text": "你很快就会发现你自己。你有三分钟时间收拾东西。时钟滴答作响。",
        "topic": "TALK_bandit_rs_scientist_start_check"
      }
    ]
  },
  {
    "id": [
      "TALK_bandit_rs_scientist_start_check",
      "TALK_bandit_rs_scientist_start_fail"
    ],
    "type": "talk_topic",
    "dynamic_line": "我哪儿也不去！",
    "responses": [
      {
        "text": "听着，有些人需要你的知识。对他们友善点，按照他们的要求去做，然后你可以继续做你的研究，或者做你在<the_cataclysm>以前在那里做过的任何事情。",
        "condition": {
          "not": {
            "npc_has_var": "persuaded",
            "type": "flag",
            "context": "temp_var",
            "value": "yes"
          }
        },
        "trial": {
          "type": "LIE",
          "difficulty": 15,
          "mod": [
            [
              "TRUST",
              3
            ]
          ]
        },
        "success": {
          "topic": "TALK_bandit_rs_scientist_start_comply"
        },
        "failure": {
          "topic": "TALK_bandit_rs_scientist_start_fail",
          "opinion": {
            "BRAVERY": 2
          },
          "effect": [
            {
              "npc_add_var": "persuaded",
              "type": "flag",
              "context": "temp_var",
              "value": "yes"
            },
            {
              "npc_adjust_var": "push",
              "type": "count",
              "context": "dialogue",
              "adjustment": 1
            }
          ]
        }
      },
      {
        "text": "你没有那么多选择，<name_g>。我们可以用简单的方法也可以用困难的方法。",
        "condition": {
          "not": {
            "npc_has_var": "intimidated",
            "type": "flag",
            "context": "temp_var",
            "value": "yes"
          }
        },
        "trial": {
          "type": "INTIMIDATE",
          "difficulty": 25,
          "mod": [
            [
              "BRAVERY",
              -2
            ],
            [
              "FEAR",
              2
            ]
          ]
        },
        "success": {
          "topic": "TALK_bandit_rs_scientist_start_comply"
        },
        "failure": {
          "topic": "TALK_bandit_rs_scientist_start_fail",
          "opinion": {
            "trust": -2
          },
          "effect": [
            {
              "npc_add_var": "intimidated",
              "type": "flag",
              "context": "temp_var",
              "value": "yes"
            },
            {
              "npc_adjust_var": "push",
              "type": "count",
              "context": "dialogue",
              "adjustment": 1
            }
          ]
        }
      },
      {
        "text": "…",
        "topic": "TALK_DONE",
        "condition": {
          "npc_has_var": "push",
          "type": "count",
          "context": "dialogue",
          "value": "2"
        },
        "effect": "flee",
        "switch": true
      },
      {
        "text": "我没时间做这个。*使用武力*",
        "trial": {
          "type": "CONDITION",
          "condition": {
            "u_has_strength": 8
          }
        },
        "success": {
          "topic": "TALK_bandit_rs_scientist_start_comply"
        },
        "failure": {
          "topic": "TALK_bandit_rs_scientist_start_flee"
        },
        "switch": true
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_start_fail",
    "dynamic_line": "我哪儿也不去！"
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_start_flee",
    "dynamic_line": "*设法挣脱并逃离你。",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": "flee"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_start_comply",
    "dynamic_line": "看来我别无选择，哈？好吧，我会遵守的。",
    "responses": [
      {
        "text": "不错的选择。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_lose_var": "push",
            "type": "count",
            "context": "dialogue"
          },
          {
            "npc_lose_var": "intimidated",
            "type": "flag",
            "context": "temp_var"
          },
          {
            "npc_lose_var": "persuaded",
            "type": "flag",
            "context": "temp_var"
          },
          "follow_only",
          {
            "npc_first_topic": "TALK_bandit_rs_scientist_follow"
          },
          {
            "mapgen_update": "bandit_rs_scientist_workplace",
            "om_terrain": "evac_center_9"
          }
        ]
      }
    ]
  },
  {
    "id": "TALK_bandit_rs_scientist_follow",
    "type": "talk_topic",
    "dynamic_line": "我希望你不会把我引向死亡…",
    "responses": [
      {
        "text": "欢迎来到你的新工作场所。",
        "condition": {
          "npc_at_om_location": "evac_center_9"
        },
        "topic": "TALK_bandit_rs_scientist_follow1"
      }
    ]
  },
  {
    "id": "TALK_bandit_rs_scientist_follow1",
    "type": "talk_topic",
    "dynamic_line": "他们把所有东西都带到这里来了吗，至少在某种程度上类似于科学设备？我不需要这些垃圾。好吧，总比在那肮脏的坑里耐心等待我的死好…",
    "responses": [
      {
        "text": "我喜欢你的态度。",
        "topic": "TALK_DONE",
        "effect": [
          "stop_following",
          {
            "npc_change_faction": "red_suns"
          },
          "assign_guard",
          {
            "npc_first_topic": "TALK_bandit_rs_scientist_1"
          },
          {
            "add_mission": "MISSION_bandit_rs_scientist_0"
          }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": [
      "TALK_bandit_rs_scientist_1",
      "TALK_bandit_rs_scientist_Background",
      "TALK_bandit_rs_scientist_poison_sure",
      "TALK_bandit_rs_scientist_poison_nope",
      "TALK_bandit_rs_scientist_made_poison"
    ],
    "dynamic_line": "<greet>",
    "responses": [
      {
        "text": "关于那个任务……",
        "topic": "TALK_MISSION_INQUIRE",
        "condition": "has_assigned_mission"
      },
      {
        "text": "<BGSS_intro_question>",
        "topic": "TALK_bandit_rs_scientist_Background"
      },
      {
        "text": "你不必担心你的安全。",
        "topic": "TALK_bandit_rs_scientist_made_poison",
        "condition": {
          "u_has_var": "rs_scientist_poison",
          "type": "flag",
          "context": "open_option",
          "value": "yes"
        }
      },
      {
        "text": "你能给那个毛茸茸的家伙做毒药吗？",
        "topic": "TALK_bandit_rs_scientist_posion",
        "condition": {
          "and": [
            {
              "npc_has_var": "working",
              "type": "flag",
              "context": "started_working",
              "value": "yes"
            },
            {
              "not": {
                "u_has_var": "hell_hound",
                "type": "switch",
                "context": "alive_dead",
                "value": "dead"
              }
            },
            {
              "not": {
                "npc_has_var": "poison_agreed",
                "type": "flag",
                "context": "agreed",
                "value": "yes"
              }
            },
            {
              "u_compare_var": "fs_leader_mission_khh",
              "type": "count",
              "context": "unmarked_mission_progress",
              "op": ">=",
              "value": 1
            }
          ]
        }
      },
      {
        "text": "需要帮忙么？",
        "condition": {
          "not": {
            "u_has_mission": "MISSION_hell_hound_1"
          }
        },
        "trial": {
          "type": "CONDITION",
          "condition": {
            "u_has_var": "hell_hound",
            "type": "switch",
            "context": "alive_dead",
            "value": "dead"
          }
        },
        "success": {
          "topic": "TALK_MISSION_LIST"
        },
        "failure": {
          "topic": "TALK_MISSION_LIST"
        }
      },
      {
        "text": "再见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "//": "TODO bruh",
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_poison",
    "dynamic_line": "我为什么要这么做？",
    "responses": [
      {
        "text": "为什么不呢？你可以自由地做任何你想做的事，不必害怕被杀或更糟。",
        "condition": {
          "not": {
            "npc_has_var": "persuaded",
            "type": "flag",
            "context": "temp_var",
            "value": "yes"
          }
        },
        "trial": {
          "type": "PERSUADE",
          "difficulty": 20,
          "mod": [
            [
              "TRUST",
              3
            ]
          ]
        },
        "success": {
          "topic": "TALK_bandit_rs_scientist_poison_sure"
        },
        "failure": {
          "topic": "TALK_bandit_rs_scientist_poison_nope",
          "effect": [
            {
              "npc_add_var": "persuaded",
              "type": "flag",
              "context": "temp_var",
              "value": "yes"
            }
          ]
        }
      },
      {
        "text": "[讽刺]",
        "condition": {
          "not": {
            "npc_has_var": "intimidated",
            "type": "flag",
            "context": "temp_var",
            "value": "yes"
          }
        },
        "trial": {
          "type": "INTIMIDATE",
          "difficulty": 20,
          "mod": [
            [
              "BRAVERY",
              -2
            ],
            [
              "FEAR",
              2
            ]
          ]
        },
        "success": {
          "topic": "TALK_bandit_rs_scientist_poison_sure"
        },
        "failure": {
          "topic": "TALK_bandit_rs_scientist_poison_nope",
          "opinion": {
            "trust": -2
          },
          "effect": [
            {
              "npc_add_var": "intimidated",
              "type": "flag",
              "context": "temp_var",
              "value": "yes"
            }
          ]
        }
      },
      {
        "text": "因为，嗯，求你了？",
        "topic": "TALK_bandit_rs_scientist_poison_nope"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_poison_sure",
    "dynamic_line": "好吧，如果你这么说的话……不过，你确定新的领导人会愿意让我在这样的事情之后活下去吗？我需要确定，你知道。",
    "speaker_effect": {
      "effect": [
        {
          "u_add_var": "poison_agreed",
          "type": "flag",
          "context": "agreed",
          "value": "yes"
        },
        {
          "npc_add_var": "poison_agreed",
          "type": "flag",
          "context": "agreed",
          "value": "yes"
        }
      ]
    }
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_poison_nope",
    "dynamic_line": "我宁愿不要。我不想失去理智，<name_g>。"
  },
  {
    "//": "TODO write something",
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_Background",
    "dynamic_line": "我没什么好说的，对不起。"
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_rs_scientist_made_poison",
    "dynamic_line": "“好吧，我试着做点什么。”她离开了，五分钟后又回来了来，拿着。",
    "speaker_effect": {
      "effect": [
        {
          "u_lose_var": "rs_scientist_poison",
          "type": "flag",
          "context": "open_option"
        },
        {
          "u_spawn_item": "bandit_item_3"
        }
      ]
    }
  },
  {
    "id": "MISSION_bandit_rs_scientist_1",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "实验室笔记"
    },
    "description": "科学家让你找到她工作所需的旧实验笔记。",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 0,
    "value": 5000,
    "start": {
      "assign_mission_target": {
        "om_terrain": "lab_surface_brick_blockC2",
        "om_special": "lab_surface_big",
        "om_terrain_replace": "field",
        "reveal_radius": 2
      },
      "update_mapgen": {
        "om_terrain": "lab_surface_brick_block3A0",
        "place_item": [
          {
            "item": "rs_scientist_notes",
            "x": 106,
            "y": 46,
            "target": true
          }
        ]
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_bandit_rs_scientist_2",
    "dialogue": {
      "describe": "-",
      "offer": "为了我的工作，我需要我的旧实验笔记。你能帮我找到吗？",
      "accepted": "你可以在我在<the_cataclysm>之前工作过的研究中心的顶层找到它们。我不确定他们是否还在，但还是值得一试。",
      "rejected": "<name_g>，请重新考虑。如果我不能在这里开始工作，我不确定我是否还活着。",
      "advice": "我们的中心是一个秘密设施，有很好的安全，那里的警卫人数是适当的。幸运的是，由于目前的情况，警卫将无法使用他们的武器对付你。",
      "inquire": "我希望我的笔记还完好无损。",
      "success": "有点损坏，少了几页，但总比什么都没有好。非常感谢。",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_bandit_rs_scientist_2",
    "type": "mission_definition",
    "name": {
      "str": "研究材料"
    },
    "description": "提供250个粘液球。",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 0,
    "value": 10000,
    "item": "slime_scrap",
    "count": 250,
    "end": {
      "effect": {
        "npc_add_var": "working",
        "type": "flag",
        "context": "started_working",
        "value": "yes"
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "我的工作需要更多的研究材料。给我250个粘液球。",
      "accepted": "我这里有一小部分材料是这些暴徒带来的，所以你可以慢慢来。",
      "rejected": "<name_g>，请重新考虑。如果我不能在这里开始工作，我不确定我是否还活着。",
      "advice": "别吃了。",
      "inquire": "找到了吗？",
      "success": "这一段时间应该够了，谢谢。",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_bandit_rs_scientist_0",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "你见过红太阳科学家吗"
    },
    "description": "这个人还活着。如果这次任务失败，就意味着这个人已经死了。",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "npc_has_var": "-",
      "type": "-",
      "context": "-",
      "value": "-"
    },
    "difficulty": 0,
    "value": 0,
    "start": {
      "effect": {
        "u_add_var": "bandit_rs_scientist",
        "type": "switch",
        "context": "alive_dead",
        "value": "alive"
      }
    },
    "fail": {
      "effect": {
        "u_add_var": "bandit_rs_scientist",
        "type": "switch",
        "context": "alive_dead",
        "value": "dead"
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "-",
      "accepted": "-",
      "rejected": "-",
      "advice": "-",
      "inquire": "-",
      "success": "-",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "type": "mapgen",
    "update_mapgen_id": "bandit_rs_scientist_workplace",
    "method": "json",
    "object": {
      "place_nested": [
        {
          "chunks": [
            "nested_bandit_rs_scientist_workplace"
          ],
          "x": 0,
          "y": 4
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "nested_bandit_rs_scientist_workplace",
    "object": {
      "mapgensize": [
        13,
        13
      ],
      "rows": [
        "*MHboNb8fX***",
        "*..s.....X***",
        ".s.......X***",
        "hSbbabbb.X***",
        "XXXXXXXX9X***",
        "*************",
        "*************",
        "*************",
        "*************",
        "*************",
        "*************",
        "*************",
        "*************"
      ],
      "palettes": [
        "lab_workspace_palette"
      ],
      "terrain": {
        "8": "t_floor",
        "9": "t_floor",
        "*": "t_null",
        "M": "t_floor",
        "H": "t_floor",
        "b": "t_floor",
        "o": "t_floor",
        "N": "t_floor",
        "f": "t_floor",
        "X": "t_floor",
        "h": "t_floor",
        "S": "t_floor",
        "a": "t_floor"
      },
      "furniture": {
        "9": "f_beaded_door",
        "X": "f_cardboard_wall",
        ".": "f_null",
        "*": "f_null"
      },
      "items": {
        "8": [
          {
            "item": "supplies_reagents_lab",
            "chance": 50,
            "repeat": [
              2,
              5
            ]
          },
          {
            "item": "supplies_samples_lab",
            "chance": 30,
            "repeat": [
              1,
              3
            ]
          }
        ],
        "b": {
          "item": "tools_science",
          "chance": 30,
          "repeat": [
            1,
            2
          ]
        },
        "f": {
          "item": "supplies_reagents_lab",
          "chance": 60,
          "repeat": [
            1,
            5
          ]
        },
        "S": {
          "item": "cleaning",
          "chance": 30,
          "repeat": [
            1,
            2
          ]
        }
      }
    }
  }
]