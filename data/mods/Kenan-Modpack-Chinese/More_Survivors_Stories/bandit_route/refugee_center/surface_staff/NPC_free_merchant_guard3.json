[
  {
    "id": "TALK_EVAC_GUARD3",
    "type": "talk_topic",
    "responses": [
      {
        "text": "我和你的领导谈过了。他命令你撤离。",
        "condition": {
          "u_has_mission": "MISSION_bandit_fs_leader_2"
        },
        "topic": "TALK_EVAC_GUARD3_EXTRACTION",
        "switch": true
      },
      {
        "text": "全部完成。",
        "condition": {
          "and": [
            {
              "not": {
                "u_has_mission": "MISSION_OLD_GUARD_REP_2"
              }
            },
            {
              "not": {
                "u_has_mission": "MISSION_evac_guard3_1"
              }
            }
          ]
        },
        "topic": "TALK_EVAC_GUARD3_MISSION",
        "switch": true
      }
    ]
  },
  {
    "id": "TALK_EVAC_GUARD3_MISSION",
    "type": "talk_topic",
    "dynamic_line": "做得好。代表的问题解决了。如果你<really>想加入我们，就去这片森林找我们的营地。",
    "responses": [
      {
        "text": "当然。",
        "topic": "TALK_DONE",
        "effect": {
          "add_mission": "MISSION_evac_guard3_1"
        }
      },
      {
        "text": "下次再说吧。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "TALK_EVAC_GUARD3_EXTRACTION",
    "type": "talk_topic",
    "dynamic_line": "你准备好走了吗？",
    "speaker_effect": {
      "sentinel": "mission",
      "effect": [
        "mission_success",
        "clear_mission"
      ]
    },
    "responses": [
      {
        "text": "一起走吧。",
        "topic": "TALK_DONE",
        "effect": {
          "add_mission": "MISSION_evac_guard3_2"
        }
      },
      {
        "text": "我需要一些时间来准备。在这里等着。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "TALK_EVAC_GUARD3_FOLLOW",
    "type": "talk_topic",
    "dynamic_line": "我们到了吗？",
    "responses": [
      {
        "text": "我们到了！",
        "condition": "mission_complete",
        "topic": "TALK_MISSION_INQUIRE"
      }
    ]
  },
  {
    "id": "TALK_EVAC_GUARD3_HIDE2",
    "type": "talk_topic",
    "responses": [
      {
        "text": "我想你很清楚你是线人。想把它藏起来是没有意义的。",
        "trial": {
          "type": "INTIMIDATE",
          "difficulty": 25,
          "mod": [
            [
              "TRUST",
              3
            ]
          ]
        },
        "success": {
          "topic": "TALK_EVAC_GUARD3_BANDITS1"
        },
        "failure": {
          "topic": "TALK_EVAC_GUARD3_WASTE",
          "effect": {
            "u_faction_rep": -5
          }
        }
      }
    ]
  },
  {
    "id": "TALK_EVAC_GUARD3_BANDITS1",
    "type": "talk_topic",
    "dynamic_line": "我真的不知道你在说什么。",
    "responses": [
      {
        "text": "老警卫知道中间有只老鼠，我是被派来找的。告诉我你所知道的一切，也许你有机会活着摆脱这种状况。",
        "trial": {
          "type": "PERSUADE",
          "difficulty": 25,
          "mod": [
            [
              "TRUST",
              3
            ]
          ]
        },
        "success": {
          "topic": "TALK_EVAC_GUARD3_BANDITS2"
        },
        "failure": {
          "topic": "TALK_EVAC_GUARD3_INSULT",
          "effect": {
            "u_faction_rep": -10
          }
        }
      }
    ]
  },
  {
    "id": "TALK_EVAC_GUARD3_BANDITS2",
    "type": "talk_topic",
    "dynamic_line": "*我很紧张，伸手去拿武器。”显然，藏起来是没有意义的，对吧？做你必须做的事。但你要知道，我不会放弃不奋斗。”",
    "responses": [
      {
        "text": "我学到了我想要的一切。趴下，叛徒！",
        "topic": "TALK_EVAC_GUARD3_DEAD"
      },
      {
        "text": "你知道，我可以把你交给老警卫，但我不会的。我也讨厌他们的空洞口号。我想成为你们中的一员。我该怎么办？",
        "topic": "TALK_EVAC_GUARD3_BANDITS3"
      }
    ]
  },
  {
    "id": "TALK_EVAC_GUARD3_BANDITS3",
    "type": "talk_topic",
    "dynamic_line": "好吧，你说服了我。听着，<name_g>。这位代表长期以来一直怀疑这里有一个线人，正如你所看到的，确实有。既然他们雇你来结束这一切，那么他们已经到了极限，除非他们看到线人的尸体，否则不会罢休。为了把他们赶跑，我们需要陷害一个人。找一个失败者守卫，试图挑起一场战斗，然后，就好像“意外”造成几处伤口，最好是致命的。之后，去找代表。我想他们接受了，然后冷静下来。当你和一个代表解决问题时，来找我，然后我们再谈。",
    "responses": [
      {
        "text": "一定会成功的。",
        "topic": "TALK_DONE",
        "effect": {
          "u_add_var": "rc_search_for_bandit",
          "type": "count",
          "context": "unmarked_mission_progress",
          "value": "1"
        }
      }
    ]
  },
  {
    "id": "MISSION_evac_guard3_1",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "森林营地"
    },
    "description": "与土匪头目交谈。",
    "goal": "MGOAL_TALK_TO_NPC",
    "difficulty": 0,
    "value": 0,
    "start": {
      "assign_mission_target": {
        "om_terrain": "bandit_camp_1",
        "om_special": "bandit_camp",
        "om_terrain_replace": "forest",
        "reveal_radius": 1,
        "min_distance": 10,
        "search_range": 50
      },
      "update_mapgen": {
        "place_npcs": [
          {
            "class": "NPC_bandit_fs_leader",
            "x": 17,
            "y": 9,
            "target": true
          }
        ]
      },
      "effect": [
        {
          "npc_change_faction": "forest_snakes"
        },
        {
          "u_faction_rep": 25
        },
        {
          "npc_change_faction": "free_merchants"
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "-",
      "accepted": "-",
      "rejected": "-",
      "advice": "-",
      "inquire": "-",
      "success": "-",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_evac_guard3_2",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "护匪"
    },
    "description": "如果你失去了匪首的手下，他会伤害你的。",
    "goal": "MGOAL_GO_TO",
    "difficulty": 0,
    "value": 0,
    "start": {
      "assign_mission_target": {
        "om_terrain": "bandit_camp_1",
        "om_special": "bandit_camp"
      },
      "update_mapgen": {
        "om_terrain": "evac_center_19",
        "place_npcs": [
          {
            "class": "evac_guard4",
            "x": 5,
            "y": 11
          }
        ]
      },
      "effect": [
        {
          "npc_change_faction": "no_faction"
        },
        "follow_only",
        {
          "npc_first_topic": "TALK_EVAC_GUARD3_FOLLOW"
        }
      ]
    },
    "end": {
      "effect": [
        "stop_following",
        {
          "npc_first_topic": "TALK_FOREST_SNAKES"
        },
        {
          "npc_change_faction": "forest_snakes"
        },
        {
          "u_add_var": "evac_bandit_safe",
          "type": "flag",
          "context": "safe",
          "value": "yes"
        }
      ]
    },
    "fail": {
      "effect": {
        "u_add_var": "evac_bandit_safe",
        "type": "flag",
        "context": "safe",
        "value": "no"
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "-",
      "accepted": "-",
      "rejected": "-",
      "advice": "-",
      "inquire": "我厌倦了走路，<name_g>。",
      "success": "谢谢你把我救出来。一两天，我就会被认出，然后在那个中心某个安静的角落被枪杀。",
      "success_lie": "-",
      "failure": "-"
    }
  }
]