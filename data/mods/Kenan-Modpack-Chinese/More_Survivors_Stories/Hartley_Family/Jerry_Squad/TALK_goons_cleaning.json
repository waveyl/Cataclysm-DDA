[
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_goon_parking",
    "dynamic_line": "我们到了吗？",
    "responses": [
      {
        "text": "是的，我们到了。",
        "topic": "TALK_Jerry_Bumpkin_goon_start_clean",
        "condition": {
          "and": [
            {
              "npc_has_var": "jerry_cleaning",
              "type": "count",
              "context": "cleaning",
              "value": "0"
            },
            {
              "or": [
                {
                  "npc_at_om_location": "hotel_tower_1_1"
                },
                {
                  "npc_at_om_location": "hotel_tower_1_2"
                },
                {
                  "npc_at_om_location": "hotel_tower_1_3"
                }
              ]
            }
          ]
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_goon_start_clean",
    "dynamic_line": "好吧，就这么定了。我们从一楼开始，用尽一切办法，然后去地下室。打扫完地下室后，我们将继续进行第二层，以此类推，在屋顶完成。理解？",
    "responses": [
      {
        "text": "是的，我们来做吧。",
        "topic": "TALK_DONE",
        "effect": {
          "npc_first_topic": "TALK_Jerry_Bumpkin_goon_cleaning"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_goon_cleaning",
    "dynamic_line": "安全吗？<name_g>",
    "responses": [
      {
        "text": "对。一楼是安全的。",
        "topic": "TALK_Jerry_Bumpkin_goon_cleaned",
        "condition": {
          "and": [
            {
              "npc_has_var": "jerry_cleaning",
              "type": "count",
              "context": "cleaning",
              "value": "0"
            },
            "at_safe_space",
            {
              "or": [
                {
                  "npc_at_om_location": "hotel_tower_1_4"
                },
                {
                  "npc_at_om_location": "hotel_tower_1_5"
                },
                {
                  "npc_at_om_location": "hotel_tower_1_6"
                },
                {
                  "npc_at_om_location": "hotel_tower_1_7"
                },
                {
                  "npc_at_om_location": "hotel_tower_1_8"
                },
                {
                  "npc_at_om_location": "hotel_tower_1_9"
                }
              ]
            }
          ]
        },
        "effect": {
          "u_adjust_var": "jerry_cleaning",
          "type": "count",
          "context": "cleaning",
          "adjustment": 1
        }
      },
      {
        "text": "对。地下室是安全的。",
        "topic": "TALK_Jerry_Bumpkin_goon_cleaned",
        "condition": {
          "and": [
            {
              "npc_has_var": "jerry_cleaning",
              "type": "count",
              "context": "cleaning",
              "value": "1"
            },
            "at_safe_space",
            {
              "or": [
                {
                  "npc_at_om_location": "hotel_tower_b_1"
                },
                {
                  "npc_at_om_location": "hotel_tower_b_2"
                },
                {
                  "npc_at_om_location": "hotel_tower_b_3"
                }
              ]
            }
          ]
        },
        "effect": {
          "u_adjust_var": "jerry_cleaning",
          "type": "count",
          "context": "cleaning",
          "adjustment": 1
        }
      },
      {
        "text": "对。二楼是安全的。",
        "topic": "TALK_Jerry_Bumpkin_goon_cleaned",
        "condition": {
          "and": [
            {
              "npc_has_var": "jerry_cleaning",
              "type": "count",
              "context": "cleaning",
              "value": "2"
            },
            "at_safe_space",
            {
              "or": [
                {
                  "npc_at_om_location": "hotel_tower_flr2_1_7"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr2_1_8"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr2_1_9"
                }
              ]
            }
          ]
        },
        "effect": {
          "u_adjust_var": "jerry_cleaning",
          "type": "count",
          "context": "cleaning",
          "adjustment": 1
        }
      },
      {
        "text": "对。三楼是安全的。",
        "topic": "TALK_Jerry_Bumpkin_goon_cleaned",
        "condition": {
          "and": [
            {
              "npc_has_var": "jerry_cleaning",
              "type": "count",
              "context": "cleaning",
              "value": "3"
            },
            "at_safe_space",
            {
              "or": [
                {
                  "npc_at_om_location": "hotel_tower_flr3_1_7"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr3_1_8"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr3_1_9"
                }
              ]
            }
          ]
        },
        "effect": {
          "u_adjust_var": "jerry_cleaning",
          "type": "count",
          "context": "cleaning",
          "adjustment": 1
        }
      },
      {
        "text": "对。四楼是安全的。",
        "topic": "TALK_Jerry_Bumpkin_goon_cleaned",
        "condition": {
          "and": [
            {
              "npc_has_var": "jerry_cleaning",
              "type": "count",
              "context": "cleaning",
              "value": "4"
            },
            "at_safe_space",
            {
              "or": [
                {
                  "npc_at_om_location": "hotel_tower_flr4_1_7"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr4_1_8"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr4_1_9"
                }
              ]
            }
          ]
        },
        "effect": {
          "u_adjust_var": "jerry_cleaning",
          "type": "count",
          "context": "cleaning",
          "adjustment": 1
        }
      },
      {
        "text": "对。屋顶是安全的。",
        "topic": "TALK_Jerry_Bumpkin_goon_cleaned_done",
        "condition": {
          "and": [
            {
              "npc_has_var": "jerry_cleaning",
              "type": "count",
              "context": "cleaning",
              "value": "5"
            },
            "at_safe_space",
            {
              "or": [
                {
                  "npc_at_om_location": "hotel_tower_flr3_1_7"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr3_1_8"
                },
                {
                  "npc_at_om_location": "hotel_tower_flr3_1_9"
                }
              ]
            }
          ]
        },
        "effect": {
          "u_adjust_var": "jerry_cleaning",
          "type": "count",
          "context": "cleaning",
          "adjustment": 1
        },
        "switch": true
      },
      {
        "text": "还没有。",
        "topic": "TALK_DONE",
        "switch": true
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_goon_cleaned",
    "dynamic_line": "<its_safe>我们开始清理下一层。",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_goon_cleaned_done",
    "dynamic_line": "不错。全部完成。我会留在这里完成我的工作。回到杰瑞身边。",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": [
          "mission_success",
          "clear_mission",
          "stop_following",
          {
            "npc_first_topic": "TALK_Jerry_Bumpkin_GOON"
          }
        ]
      }
    ]
  }
]