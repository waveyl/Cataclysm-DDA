[
  {
    "id": "SECRO_FLESH_HIVEMIND_service",
    "type": "talk_topic",
    "dynamic_line": {
      "and": [
        "*sends an immediate streak of velvety pulsation towards the meatfarm.",
        "\nThe hivemind can also fix your injuries using flesh."
      ]
    },
    "responses": [
      {
        "text": "关于血肉养殖场…",
        "topic": "SECRO_FLESH_HIVEMIND_service_meatfarm",
        "condition": {
          "npc_has_effect": "secro_flesh_built_room_meatfarm"
        }
      },
      {
        "text": "我请求修理。",
        "topic": "SECRO_FLESH_HIVEMIND_healme"
      },
      {
        "text": "…",
        "topic": "SECRO_FLESH_HIVEMIND_main"
      }
    ]
  },
  {
    "id": "SECRO_FLESH_HIVEMIND_healme",
    "type": "talk_topic",
    "dynamic_line": {
      "npc_has_effect": "currently_busy",
      "yes": "*露出一个令人恶心的反应——展示其正在工作的触手。",
      "no": "*微微颤抖并张开管口。"
    },
    "responses": [
      {
        "text": "[35血肉，30分钟] *用血肉喂养孔腔*",
        "topic": "SECRO_FLESH_HIVEMIND_healing",
        "condition": {
          "and": [
            {
              "npc_service": true
            },
            {
              "u_has_items": {
                "item": "secro_flesh",
                "count": 35
              }
            }
          ]
        },
        "effect": [
          {
            "u_sell_item": "secro_flesh",
            "count": 35
          },
          {
            "npc_consume_item": "secro_flesh",
            "count": 35
          }
        ]
      },
      {
        "text": "[35血肉，30分钟] *用血肉喂养孔腔*",
        "topic": "SECRO_FLESH_HIVEMIND_healing_no",
        "condition": {
          "and": [
            {
              "npc_service": true
            },
            {
              "not": {
                "u_has_items": {
                  "item": "secro_flesh",
                  "count": 35
                }
              }
            }
          ]
        }
      },
      {
        "text": "算了...",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "SECRO_FLESH_HIVEMIND_healing_no",
    "type": "talk_topic",
    "dynamic_line": "*不能吸收你的血肉，因为它不够完成修复。",
    "responses": [
      {
        "text": "好吧……",
        "topic": "SECRO_FLESH_HIVEMIND_main"
      }
    ]
  },
  {
    "id": "SECRO_FLESH_HIVEMIND_healing",
    "type": "talk_topic",
    "dynamic_line": "*形成一堆包裹着你的血肉堆。虽然它很恶心，但你知道它会治好你的。",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": "give_aid"
      }
    ]
  },
  {
    "id": "SECRO_FLESH_HIVEMIND_service_meatfarm",
    "type": "talk_topic",
    "dynamic_line": {
      "npc_has_effect": "secro_flesh_growing_meatfarm",
      "yes": "*正在长出一些肉。",
      "no": "*正在等你的命令。"
    },
    "responses": [
      {
        "text": "开始“种植”肉。",
        "topic": "SECRO_FLESH_HIVEMIND_service_meatfarm_grow",
        "condition": {
          "and": [
            {
              "not": {
                "npc_has_effect": "secro_flesh_growing_meatfarm"
              }
            },
            {
              "not": {
                "npc_has_effect": "secro_flesh_growing_meatfarm_low"
              }
            },
            {
              "not": {
                "npc_has_effect": "secro_flesh_growing_meatfarm_med"
              }
            }
          ]
        }
      },
      {
        "text": "[收获]*收集新鲜的大块肉*",
        "topic": "TALK_DONE",
        "condition": {
          "and": [
            {
              "not": {
                "npc_has_effect": "secro_flesh_growing_meatfarm"
              }
            },
            {
              "npc_has_effect": "secro_flesh_growing_meatfarm_low"
            },
            {
              "npc_has_effect": "secro_flesh_built_room_meatfarm_top"
            }
          ]
        },
        "effect": [
          {
            "mapgen_update": "secro_fleshcamp_room_meatfarm_lowharvest_north",
            "origin_npc": true,
            "offset_y": -1
          },
          {
            "npc_lose_effect": "secro_flesh_growing_meatfarm_low"
          }
        ]
      },
      {
        "text": "[收获]*收集新鲜的大块肉*",
        "topic": "TALK_DONE",
        "condition": {
          "and": [
            {
              "not": {
                "npc_has_effect": "secro_flesh_growing_meatfarm"
              }
            },
            {
              "npc_has_effect": "secro_flesh_growing_meatfarm_med"
            },
            {
              "npc_has_effect": "secro_flesh_built_room_meatfarm_top"
            }
          ]
        },
        "effect": [
          {
            "mapgen_update": "secro_fleshcamp_room_meatfarm_medharvest_north",
            "origin_npc": true,
            "offset_y": -1
          },
          {
            "npc_lose_effect": "secro_flesh_growing_meatfarm_med"
          }
        ]
      },
      {
        "text": "[收获]*收集新鲜的大块肉*",
        "topic": "TALK_DONE",
        "condition": {
          "and": [
            {
              "not": {
                "npc_has_effect": "secro_flesh_growing_meatfarm"
              }
            },
            {
              "npc_has_effect": "secro_flesh_growing_meatfarm_high"
            },
            {
              "npc_has_effect": "secro_flesh_built_room_meatfarm_top"
            }
          ]
        },
        "effect": [
          {
            "mapgen_update": "secro_fleshcamp_room_meatfarm_highharvest_north",
            "origin_npc": true,
            "offset_y": -1
          },
          {
            "npc_lose_effect": "secro_flesh_growing_meatfarm_high"
          }
        ]
      },
      {
        "text": "…",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "SECRO_FLESH_HIVEMIND_service_meatfarm_grow",
    "type": "talk_topic",
    "dynamic_line": "*打开一个大开口。你可以用血肉喂养主巢心智，它可以把血肉变成可食用的肉。",
    "responses": [
      {
        "text": "[25血肉，4小时]*用血肉喂养主巢心智*",
        "topic": "SECRO_FLESH_HIVEMIND_service_meatfarm_growing",
        "condition": {
          "u_has_items": {
            "item": "secro_flesh",
            "count": 25
          }
        },
        "effect": [
          {
            "u_sell_item": "secro_flesh",
            "count": 25
          },
          {
            "npc_consume_item": "secro_flesh",
            "count": 25
          },
          {
            "npc_add_effect": "secro_flesh_growing_meatfarm_low",
            "duration": "PERMANENT"
          },
          {
            "npc_add_effect": "secro_flesh_growing_meatfarm",
            "duration": 14400
          }
        ]
      },
      {
        "text": "[100血肉，12小时]*用血肉喂养主巢心智*",
        "topic": "SECRO_FLESH_HIVEMIND_service_meatfarm_growing",
        "condition": {
          "u_has_items": {
            "item": "secro_flesh",
            "count": 100
          }
        },
        "effect": [
          {
            "u_sell_item": "secro_flesh",
            "count": 100
          },
          {
            "npc_consume_item": "secro_flesh",
            "count": 100
          },
          {
            "npc_add_effect": "secro_flesh_growing_meatfarm_med",
            "duration": "PERMANENT"
          },
          {
            "npc_add_effect": "secro_flesh_growing_meatfarm",
            "duration": 43200
          }
        ]
      },
      {
        "text": "[325血肉，1天12小时]*用血肉喂养主巢心智*",
        "topic": "SECRO_FLESH_HIVEMIND_service_meatfarm_growing",
        "condition": {
          "u_has_items": {
            "item": "secro_flesh",
            "count": 325
          }
        },
        "effect": [
          {
            "u_sell_item": "secro_flesh",
            "count": 325
          },
          {
            "npc_consume_item": "secro_flesh",
            "count": 325
          },
          {
            "npc_add_effect": "secro_flesh_growing_meatfarm_high",
            "duration": "PERMANENT"
          },
          {
            "npc_add_effect": "secro_flesh_growing_meatfarm",
            "duration": 129600
          }
        ]
      },
      {
        "text": "没关系…",
        "topic": "SECRO_FLESH_HIVEMIND_main"
      }
    ]
  },
  {
    "id": "SECRO_FLESH_HIVEMIND_service_meatfarm_growing",
    "type": "talk_topic",
    "dynamic_line": "*消耗提供的血肉，然后连接的区域开始跳动…",
    "responses": [
      {
        "text": "…",
        "topic": "SECRO_FLESH_HIVEMIND_service"
      }
    ]
  }
]