[
  {
    "//": "TODO check text for mistakes, balance traits stats etc",
    "type": "npc",
    "id": "NPC_flame_knuckle_leader",
    "gender": "male",
    "name_suffix": "火焰关节",
    "class": "NC_flame_knuckle_leader",
    "attitude": 1,
    "mission": 8,
    "chat": "TALK_flame_knuckle_leader_start",
    "faction": "flame_knuckle",
    "mission_offered": "MISSION_flame_knuckle_leader_1"
  },
  {
    "type": "npc_class",
    "id": "NC_flame_knuckle_leader",
    "name": {
      "str": "Flame Knuckle Leader"
    },
    "job_description": "The leader of Flame Knuckle school.",
    "common": false,
    "traits": [
      {
        "group": "flame_knuckle_master"
      },
      {
        "group": "Appearance_demographics"
      }
    ],
    "bonus_str": {
      "rng": [
        4,
        7
      ]
    },
    "bonus_dex": {
      "rng": [
        4,
        7
      ]
    },
    "bonus_int": {
      "rng": [
        3,
        5
      ]
    },
    "bonus_per": {
      "rng": [
        3,
        4
      ]
    },
    "worn_override": "NC_flame_knuckle_leader_worn",
    "weapon_override": "EMPTY_GROUP",
    "skills": [
      {
        "skill": "dodge",
        "bonus": {
          "rng": [
            6,
            8
          ]
        }
      },
      {
        "skill": "melee",
        "bonus": {
          "rng": [
            6,
            8
          ]
        }
      },
      {
        "skill": "unarmed",
        "bonus": {
          "rng": [
            6,
            8
          ]
        }
      }
    ]
  },
  {
    "type": "item_group",
    "id": "NC_flame_knuckle_leader_worn",
    "subtype": "collection",
    "entries": [
      {
        "item": "karate_gi"
      },
      {
        "item": "mouthpiece"
      },
      {
        "item": "judo_belt_black"
      },
      {
        "item": "geta"
      },
      {
        "item": "boxer_shorts"
      },
      {
        "item": "mask_bal"
      },
      {
        "item": "kevlar"
      },
      {
        "item": "legguard_metal"
      },
      {
        "item": "armguard_soft"
      },
      {
        "item": "armguard_metal"
      },
      {
        "item": "shorts_denim"
      }
    ]
  },
  {
    "id": [
      "TALK_flame_knuckle_leader_start"
    ],
    "type": "talk_topic",
    "dynamic_line": "什么风把你吹来了，<name_g>？",
    "responses": [
      {
        "text": "我是来办事的。",
        "trial": {
          "type": "CONDITION",
          "condition": {
            "u_has_var": "fkl_business",
            "type": "flag",
            "context": "meeting",
            "value": "yes"
          }
        },
        "success": {
          "topic": "TALK_flame_knuckle_leader_good"
        },
        "failure": {
          "topic": "TALK_flame_knuckle_leader_bad"
        }
      },
      {
        "text": "我是来收拾你的！",
        "topic": "TALK_flame_knuckle_leader_bad"
      }
    ]
  },
  {
    "id": [
      "TALK_flame_knuckle_leader_good"
    ],
    "type": "talk_topic",
    "dynamic_line": "你就是我听说的那个新学生？不幸的是，我知道你的一切。我想你知道你不是这个老傻瓜派来的第一个人。但你很幸运，今天我心情很好，我准备给你一个赎罪的机会。把那个老人的头拿来，我会考虑给你一个加入我学校的机会。",
    "responses": [
      {
        "text": "我会考虑的。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_first_topic": "TALK_flame_knuckle_leader_waiting"
          },
          {
            "u_add_var": "fkl_end_ip",
            "type": "flag",
            "context": "meeting",
            "value": "yes"
          }
        ]
      },
      {
        "text": "我想我们应该战斗。",
        "topic": "TALK_flame_knuckle_leader_bad"
      }
    ]
  },
  {
    "id": "TALK_flame_knuckle_leader_waiting",
    "type": "talk_topic",
    "dynamic_line": "我等着呢。",
    "responses": [
      {
        "text": "我已经准备好了！",
        "topic": "TALK_DONE",
        "condition": {
          "not": {
            "u_has_item": "ip_leader_head"
          }
        }
      },
      {
        "text": "给你。",
        "topic": "TALK_flame_knuckle_leader_pleased",
        "condition": {
          "u_has_item": "ip_leader_head"
        },
        "effect": [
          {
            "u_consume_item": "ip_leader_head"
          }
        ]
      },
      {
        "text": "来打一架吧！",
        "topic": "TALK_flame_knuckle_leader_bad"
      }
    ]
  },
  {
    "id": [
      "TALK_flame_knuckle_leader_pleased"
    ],
    "type": "talk_topic",
    "dynamic_line": "很好。认为你得到了我的信任。如果你还想成为我学校的学生，有空就来找我。",
    "responses": [
      {
        "text": "谢谢你的信任。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_first_topic": "TALK_flame_knuckle_leader_1"
          }
        ]
      }
    ]
  },
  {
    "id": [
      "TALK_flame_knuckle_leader_bad"
    ],
    "type": "talk_topic",
    "dynamic_line": "我们做这件事容易还是困难？",
    "responses": [
      {
        "text": "请走简单的路。",
        "topic": "TALK_flame_knuckle_leader_easy"
      },
      {
        "text": "请用力。",
        "topic": "TALK_flame_knuckle_leader_hard"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_flame_knuckle_leader_easy",
    "dynamic_line": "弯腰。",
    "responses": [
      {
        "text": "哦，不！",
        "topic": "TALK_DONE",
        "effect": "start_mugging"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_flame_knuckle_leader_hard",
    "dynamic_line": "就这样吧！",
    "responses": [
      {
        "text": "让我们摇滚吧！",
        "topic": "TALK_DONE",
        "effect": [
          {
            "u_faction_rep": -100
          }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": [
      "TALK_flame_knuckle_leader_1"
    ],
    "dynamic_line": "我希望你能带一些我看的上眼的东西给我。",
    "responses": [
      {
        "text": "关于那个任务……",
        "condition": "has_assigned_mission",
        "topic": "TALK_MISSION_INQUIRE"
      },
      {
        "text": "<BGSS_intro_question>",
        "topic": "TALK_flame_knuckle_leader_Background"
      },
      {
        "text": "需要帮忙么？",
        "topic": "TALK_MISSION_LIST"
      },
      {
        "text": "你能教我点什么吗？",
        "topic": "TALK_flame_knuckle_leader_teach_check"
      },
      {
        "text": "再见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_flame_knuckle_leader_Background",
    "dynamic_line": "呸，有什么意义？都变成故事了。还是多在乎在乎当下的问题吧。",
    "responses": [
      {
        "text": "<done_conversation_section>",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_flame_knuckle_leader_teach_check",
    "dynamic_line": "我现在没心情。走开。",
    "responses": [
      {
        "text": "也许你想教我一些很酷的东西，师父？",
        "topic": "TALK_flame_knuckle_leader_teach",
        "condition": {
          "npc_has_var": "u_helped_flame_knuckle_leader",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        "effect": {
          "npc_lose_var": "flame_knuckle_leader_teach",
          "type": "general",
          "context": "meeting"
        }
      },
      {
        "text": "<done_conversation_section>",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_flame_knuckle_leader_teach",
    "dynamic_line": "你想知道我学校的秘密吗？来，拿着，都是你的，我的学生。但你知道，我不觉得那么慷慨，就这么轻易地告诉你我的秘密。让我们跳一会儿舞，如果你在那之后还能站着不动，你就认为你有资格了解我学校的教学方法。",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": [
          {
            "u_faction_rep": -100
          },
          {
            "add_mission": "MISSION_flame_knuckle_leader_0"
          }
        ]
      }
    ]
  },
  {
    "id": "MISSION_flame_knuckle_leader_1",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "招揽几个学生"
    },
    "description": "“烈火指”的头目让你给他的学校招揽学生。",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "u_has_var": "fkl_students",
      "type": "flag",
      "context": "meeting",
      "value": "2"
    },
    "difficulty": 0,
    "value": 1000,
    "start": {
      "effect": [
        {
          "u_add_var": "fkl_students",
          "type": "flag",
          "context": "meeting",
          "value": "0"
        },
        {
          "u_add_var": "ally_transfer_fk",
          "type": "flag",
          "context": "transfer",
          "value": "yes"
        }
      ]
    },
    "end": {
      "effect": [
        {
          "npc_add_var": "u_helped_flame_knuckle_leader",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        {
          "npc_add_var": "flame_knuckle_leader_teach",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        {
          "u_lose_var": "fkl_students",
          "type": "flag",
          "context": "meeting"
        },
        {
          "u_lose_var": "ally_transfer_fk",
          "type": "flag",
          "context": "transfer"
        }
      ]
    },
    "fail": {
      "effect": [
        {
          "u_lose_var": "fkl_students",
          "type": "flag",
          "context": "meeting"
        },
        {
          "u_lose_var": "ally_transfer_fk",
          "type": "flag",
          "context": "transfer"
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "“烈火指”的头目",
      "offer": "给我带更多的学生来，这样我就可以有更多的力量来应对这场灾难。",
      "accepted": "我会一直在这里等你。",
      "rejected": "呸，又是个懦夫。走开，<name_b>！",
      "advice": "去找躲在地下室里的孤独的幸存者。",
      "inquire": "我会一直在这里等你。",
      "success": "好，<very>好。眼光不错，这些家伙将来也大有可为。我会好好照顾他们的，呵呵。现在出去闯闯吧，<name_g>。",
      "success_lie": "你知道我们怎么对付骗子吗？",
      "failure": "所以，你选择了失去理智。"
    }
  },
  {
    "id": "MISSION_flame_knuckle_leader_0",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "火焰指节头训练"
    },
    "description": "“烈火指”的头目突然对你发起攻击。也许这是训练的一部分？",
    "goal": "MGOAL_CONDITION",
    "difficulty": 0,
    "value": 0,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "-",
      "accepted": "-",
      "rejected": "-",
      "advice": "-",
      "inquire": "-",
      "success": "-",
      "success_lie": "-",
      "failure": "-"
    },
    "fail": {
      "effect": [
        {
          "u_spawn_item": "manual_aikido"
        },
        {
          "mapgen_update": "fk_stairs",
          "om_terrain": "fk_base_2"
        }
      ]
    }
  }
]