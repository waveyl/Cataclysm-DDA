[
  {
    "type": "npc",
    "id": "NPC_test_npc_232",
    "name_unique": "测试",
    "gender": "male",
    "name_suffix": "测试",
    "class": "NC_test_232",
    "attitude": 0,
    "mission": 3,
    "chat": "test_232",
    "faction": "no_faction"
  },
  {
    "type": "npc_class",
    "id": "NC_test_232",
    "name": {
      "str": "test_232"
    },
    "job_description": "test_232.",
    "common": false,
    "bonus_str": {
      "rng": [
        2,
        4
      ]
    },
    "bonus_dex": {
      "rng": [
        2,
        4
      ]
    },
    "bonus_int": {
      "rng": [
        1,
        2
      ]
    },
    "bonus_per": {
      "rng": [
        1,
        2
      ]
    },
    "shopkeeper_item_group": "NC_BARTENDER_misc",
    "traits": [
      {
        "group": "NPC_starting_traits"
      },
      {
        "group": "Appearance_demographics"
      },
      {
        "trait": "MARTIAL_ARTS"
      },
      {
        "trait": "PAINRESIST"
      }
    ],
    "skills": [
      {
        "skill": "melee",
        "bonus": {
          "rng": [
            4,
            8
          ]
        }
      },
      {
        "skill": "unarmed",
        "bonus": {
          "rng": [
            4,
            8
          ]
        }
      },
      {
        "skill": "dodge",
        "bonus": {
          "rng": [
            4,
            8
          ]
        }
      }
    ]
  },
  {
    "id": [
      "test_232",
      "test_232_noroof",
      "test_232_roof"
    ],
    "type": "talk_topic",
    "dynamic_line": "*他点了点头：“<greet>，有什么需要的吗？”说着他看了眼手表，挠了挠头。",
    "responses": [
      {
        "text": "测试成本陷阱。<kill_npc_h>",
        "topic": "TALK_DONE",
        "effect": [
          {
            "mapgen_update": "jcost_place_trap",
            "origin_npc": true,
            "om_terrain": "forest",
            "search_range": 3,
            "min_distance": 1
          }
        ]
      },
      {
        "text": "测试教学。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "u_add_effect": "sleep",
            "duration": "360 m"
          },
          {
            "u_add_effect": "narcosis",
            "duration": "360 m"
          }
        ]
      },
      {
        "text": "测试跟踪。",
        "topic": "TALK_DONE",
        "effect": [
          "follow",
          {
            "npc_first_topic": "test_232"
          }
        ]
      },
      {
        "text": "只进行测试。",
        "topic": "TALK_DONE",
        "effect": "follow_only"
      },
      {
        "text": "我在外面。",
        "topic": "TALK_DONE",
        "condition": "is_outside"
      },
      {
        "text": "我在里面。",
        "topic": "TALK_DONE",
        "condition": {
          "not": "is_outside"
        }
      },
      {
        "text": "我在哪？",
        "trial": {
          "type": "CONDITION",
          "condition": "is_outside"
        },
        "success": {
          "topic": "test_232_noroof"
        },
        "failure": {
          "topic": "test_232_roof"
        }
      },
      {
        "text": "试休假。",
        "topic": "TALK_DONE",
        "effect": "leave"
      },
      {
        "text": "测试U防护装置。",
        "topic": "TALK_DONE",
        "effect": [
          "assign_guard",
          {
            "npc_first_topic": "TALK_ML_GOON"
          }
        ]
      },
      {
        "text": "测试约翰尼的强盗。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "mapgen_update": "bj_bandits",
            "origin_npc": true,
            "offset_z": -1
          }
        ]
      },
      {
        "text": "说说那份工作！",
        "topic": "TALK_MISSION_LIST_ASSIGNED"
      },
      {
        "text": "关于那份工作！",
        "topic": "TALK_MISSION_INQUIRE"
      },
      {
        "text": "试验任务",
        "topic": "TALK_MISSION_LIST"
      },
      {
        "text": "测试npc\\U购买",
        "topic": "test_232_give",
        "effect": [
          {
            "u_spawn_item": "manual_niten"
          }
        ]
      },
      {
        "text": "测试约翰尼的债务。",
        "topic": "TALK_DONE",
        "effect": {
          "u_add_var": "bj_debt",
          "type": "flag",
          "context": "meeting",
          "value": "yes"
        }
      },
      {
        "text": "测试232测试。",
        "topic": "TALK_DONE",
        "effect": {
          "u_add_var": "test_232_test",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        }
      },
      {
        "text": "测试学生转移。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "u_add_var": "bbm_students",
            "type": "flag",
            "context": "meeting",
            "value": "0"
          },
          {
            "u_add_var": "ally_transfer_ip",
            "type": "flag",
            "context": "transfer",
            "value": "yes"
          },
          {
            "u_add_var": "fkl_students",
            "type": "flag",
            "context": "meeting",
            "value": "0"
          },
          {
            "u_add_var": "ally_transfer_fk",
            "type": "flag",
            "context": "transfer",
            "value": "yes"
          },
          {
            "u_add_var": "bj_students",
            "type": "flag",
            "context": "meeting",
            "value": "0"
          },
          {
            "u_add_var": "ally_transfer_bj",
            "type": "flag",
            "context": "transfer",
            "value": "yes"
          },
          {
            "u_add_var": "jerry_goons",
            "type": "flag",
            "context": "goons",
            "value": "0"
          },
          {
            "u_add_var": "ally_transfer_js",
            "type": "flag",
            "context": "transfer",
            "value": "yes"
          }
        ]
      },
      {
        "text": "试验22ch。",
        "topic": "TALK_DONE",
        "effect": {
          "u_add_var": "lead_scientist_22ch_need_time",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        }
      },
      {
        "text": "测试任务和过时的东西",
        "topic": "test_232_mrs"
      },
      {
        "text": "测试贸易。",
        "effect": "start_trade",
        "topic": "TALK_DONE"
      },
      {
        "text": "试验列车",
        "topic": "TALK_TRAIN",
        "condition": {
          "or": [
            "npc_train_skills",
            "npc_train_styles"
          ]
        }
      },
      {
        "text": "你不用考试！",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "test_232_roof",
    "dynamic_line": "在屋顶下面。你为什么问？"
  },
  {
    "type": "talk_topic",
    "id": "test_232_noroof",
    "dynamic_line": "不是在屋顶下。你为什么问？"
  },
  {
    "type": "talk_topic",
    "id": "test_232_mrs",
    "dynamic_line": "？？？",
    "responses": [
      {
        "text": "测试任务周期。",
        "topic": "test_232_mrs",
        "effect": [
          "clear_mission",
          "assign_mission"
        ]
      },
      {
        "text": "测试任务周期成功。",
        "topic": "test_232_mrs",
        "effect": [
          "mission_success",
          "assign_mission"
        ]
      },
      {
        "text": "测试工作任务周期。",
        "topic": "test_232_mrs",
        "effect": [
          "mission_success",
          "clear_mission",
          "assign_mission"
        ]
      },
      {
        "text": "测试任务分配。",
        "topic": "test_232_mrs",
        "effect": "assign_mission"
      },
      {
        "text": "测试任务成功。",
        "topic": "test_232_mrs",
        "effect": "mission_success"
      },
      {
        "text": "测试任务失败",
        "topic": "test_232_mrs",
        "effect": "mission_failure"
      },
      {
        "text": "测试任务完成",
        "topic": "test_232_mrs",
        "effect": "clear_mission"
      },
      {
        "text": "测试添加任务1",
        "topic": "test_232_mrs",
        "effect": {
          "add_mission": "MISSION_test_232_1"
        }
      },
      {
        "text": "测试添加任务2",
        "topic": "test_232_mrs",
        "effect": {
          "add_mission": "MISSION_test_232_2"
        }
      },
      {
        "text": "测试添加任务3",
        "topic": "test_232_mrs",
        "effect": {
          "add_mission": "MISSION_test_232_3"
        }
      },
      {
        "text": "测试添加任务7",
        "topic": "test_232_mrs",
        "effect": {
          "add_mission": "MISSION_test_232_7"
        }
      },
      {
        "text": "返回",
        "topic": "test_232"
      },
      {
        "text": "END",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "MISSION_test_232_0",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "你遇到了测试人员0"
    },
    "description": "他看起来像个好人。也许你不该让他死？",
    "goal": "MGOAL_FIND_ITEM",
    "item": "ant_egg",
    "count": 20,
    "difficulty": 0,
    "value": 0,
    "end": {
      "effect": {
        "u_spawn_item": "feces_dog",
        "count": 1
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_test_232_1",
    "dialogue": {
      "describe": "0",
      "offer": "0",
      "accepted": "0",
      "rejected": "0",
      "advice": "0",
      "inquire": "0",
      "success": "0",
      "success_lie": "0",
      "failure": "0"
    },
    "fail": {
      "effect": {
        "u_spawn_item": "feces_dog"
      }
    }
  },
  {
    "id": "MISSION_test_232_1",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "你遇到了测试人员1"
    },
    "description": "他看起来像个好人。也许你不该让他死？",
    "goal": "MGOAL_ASSASSINATE",
    "difficulty": 0,
    "value": 0,
    "start": {
      "effect": [
        {
          "mapgen_update": "test_mag_pen_1",
          "origin_npc": true,
          "om_terrain": "evac_center_13_z-1"
        },
        {
          "mapgen_update": "test_mag_pen_2",
          "origin_npc": true,
          "om_terrain": "evac_center_12_z-1"
        },
        {
          "mapgen_update": "test_mag_pen_2",
          "origin_npc": true,
          "om_terrain": "evac_center_11_z-1"
        }
      ],
      "update_mapgen": {
        "om_terrain": "evac_center_13_z-1",
        "place_npcs": [
          {
            "class": "NPC_moneylender_goon",
            "x": [
              10,
              16
            ],
            "y": 9,
            "target": true
          }
        ]
      }
    },
    "end": {
      "effect": {
        "u_spawn_item": "feces_dog"
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_test_232_2",
    "dialogue": {
      "describe": "1",
      "offer": "1",
      "accepted": "1",
      "rejected": "1",
      "advice": "1",
      "inquire": "1",
      "success": "1",
      "success_lie": "1",
      "failure": "1"
    },
    "fail": {
      "effect": {
        "u_spawn_item": "feces_dog",
        "count": 2
      }
    }
  },
  {
    "id": "MISSION_test_232_2",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "你遇到了测试人员2"
    },
    "description": "他看起来像个好人。也许你不该让他死？",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "u_has_var": "test_232_test",
      "type": "general",
      "context": "meeting",
      "value": "yes"
    },
    "difficulty": 0,
    "value": 0,
    "end": {
      "effect": {
        "u_spawn_item": "feces_dog",
        "count": 3
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_test_232_3",
    "dialogue": {
      "describe": "-",
      "offer": "2",
      "accepted": "2",
      "rejected": "2",
      "advice": "-",
      "inquire": "2",
      "success": "2",
      "success_lie": "-",
      "failure": "-"
    },
    "fail": {
      "effect": {
        "u_spawn_item": "feces_dog"
      }
    }
  },
  {
    "id": "MISSION_test_232_3",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "你遇到了测试人员3"
    },
    "description": "他看起来像个好人。也许你不该让他死？",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "u_has_var": "test_232_test",
      "type": "general",
      "context": "meeting",
      "value": "yes"
    },
    "difficulty": 0,
    "value": 0,
    "deadline_low": 3,
    "deadline_high": 3,
    "end": {
      "effect": {
        "u_spawn_item": "feces_dog",
        "count": 4
      }
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "3",
      "accepted": "3",
      "rejected": "-",
      "advice": "3",
      "inquire": "3",
      "success": "3",
      "success_lie": "-",
      "failure": "-"
    },
    "fail": {
      "effect": {
        "mapgen_update": "heist_success"
      }
    }
  },
  {
    "id": "MISSION_test_232_7",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "你遇到了测试人员7"
    },
    "description": "他看起来像个好人。也许你不该让他死？",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "npc_compare_time_since_var": "test_232_test_time",
      "type": "general",
      "context": "meeting",
      "op": ">=",
      "time": "2 hours"
    },
    "difficulty": 0,
    "value": 0,
    "start": {
      "effect": {
        "npc_add_var": "test_232_test_time",
        "type": "general",
        "context": "meeting",
        "time": true
      }
    },
    "end": {
      "effect": {
        "u_spawn_item": "feces_dog",
        "count": 7
      }
    },
    "deadline_low": 1,
    "deadline_high": 1,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_test_232_3",
    "dialogue": {
      "describe": "-",
      "offer": "7",
      "accepted": "7",
      "rejected": "-",
      "advice": "7",
      "inquire": "7",
      "success": "7",
      "success_lie": "-",
      "failure": "-"
    },
    "fail": {
      "effect": {
        "u_spawn_item": "feces_dog"
      }
    }
  }
]