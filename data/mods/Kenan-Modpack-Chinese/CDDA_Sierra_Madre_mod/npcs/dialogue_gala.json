[
  {
    "type": "mapgen",
    "update_mapgen_id": "gala_mapgen",
    "method": "json",
    "object": {
      "place_terrain": [
        {
          "ter": "sierra_door_vault_c",
          "x": 8,
          "y": 19
        },
        {
          "ter": "sierra_door_vault_c",
          "x": 9,
          "y": 19
        },
        {
          "ter": "sierra_door_vault_c",
          "x": 10,
          "y": 19
        },
        {
          "ter": "sierra_door_vault_c",
          "x": 11,
          "y": 19
        },
        {
          "ter": "sierra_door_vault_c",
          "x": 12,
          "y": 19
        },
        {
          "ter": "sierra_door_vault_c",
          "x": 13,
          "y": 19
        },
        {
          "ter": "sierra_door_vault_c",
          "x": 14,
          "y": 19
        },
        {
          "ter": "sierra_door_vault_c",
          "x": 15,
          "y": 19
        }
      ]
    }
  },
  {
    "id": "GALA_CONSOLE",
    "type": "talk_topic",
    "dynamic_line": "Gala控制面板",
    "responses": [
      {
        "text": "开始庆祝活动",
        "condition": {
          "not": {
            "u_has_item": "casino_enter_card"
          }
        },
        "topic": "NO_ACCESS"
      },
      {
        "text": "开始庆祝活动",
        "condition": {
          "u_has_item": "casino_enter_card"
        },
        "topic": "GALA_START"
      },
      {
        "text": "退出",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "NO_ACCESS",
    "type": "talk_topic",
    "dynamic_line": "授权错误！无法启动开幕大典。正在中止…",
    "responses": [
      {
        "text": "取消",
        "topic": "GALA_CONSOLE"
      }
    ]
  },
  {
    "id": "GALA_START",
    "type": "talk_topic",
    "dynamic_line": "为晚会开始播放预先录制的信息…各位，请大家注意，无论是客人还是别墅区里的居民。请您走出去看看夜空，这是您一直在等待的时刻，也是我们都在这里的原因。庆祝活动，马德雷赌场的盛大开幕式，是您们使这一重要时刻成为可能，为此我们感谢您们。所以请举杯庆祝吧，让音乐充满街道，烟花照亮天空，新的开始充满您的心。不管您的命运如何，不管您的忧虑如何——今夜放手，重新开始。不过，我建议您快点，马德雷山的大门是敞开着的，但时间很短。在那之后，晚上的庆祝活动就要关门了，直到早晨才能开门。",
    "responses": [
      {
        "text": "退出",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_first_topic": "GALA_START2"
          },
          {
            "mapgen_update": "gala_mapgen",
            "om_terrain": "casino_8"
          },
          {
            "u_add_trait": "gala_trait"
          },
          {
            "mapgen_update": "ghost_mapgen",
            "om_terrain": "campanas"
          },
          {
            "mapgen_update": "ghost_mapgen",
            "om_terrain": "salida_north_2"
          },
          {
            "mapgen_update": "ghost_mapgen",
            "om_terrain": "salida_north_1"
          },
          {
            "mapgen_update": "gala_ghost_mapgen",
            "om_terrain": "campanas_up"
          }
        ]
      }
    ]
  },
  {
    "id": "GALA_START2",
    "type": "talk_topic",
    "dynamic_line": "为晚会开始播放预先录制的信息…各位，请大家注意，无论是客人还是别墅区里的居民。请您走出去看看夜空，这是您一直在等待的时刻，也是我们都在这里的原因。庆祝活动，马德雷赌场的盛大开幕式，是您们使这一重要时刻成为可能，为此我们感谢您们。所以请举杯庆祝吧，让音乐充满街道，烟花照亮天空，新的开始充满您的心。不管您的命运如何，不管您的忧虑如何——今夜放手，重新开始。不过，我建议您快点，马德雷山的大门是敞开着的，但时间很短。在那之后，晚上的庆祝活动就要关门了，直到早晨才能开门。",
    "responses": [
      {
        "text": "退出",
        "topic": "TALK_DONE"
      }
    ]
  }
]