[
  {
    "id": "VAULT_CONSOLE",
    "type": "talk_topic",
    "dynamic_line": "马德雷赌场控制网",
    "responses": [
      {
        "text": "维拉凯斯",
        "topic": "KEYES",
        "condition": {
          "not": {
            "u_has_trait": "win"
          }
        },
        "effect": [
          {
            "u_add_trait": "win"
          },
          {
            "u_lose_trait": "entered_casino"
          },
          {
            "u_lose_trait": "gala_trait"
          },
          {
            "mapgen_update": "elijah_mapgen"
          },
          {
            "mapgen_update": "close_vault_trap_mapgen",
            "om_terrain": "sm_vault"
          }
        ]
      },
      {
        "text": "维拉",
        "topic": "VERA",
        "condition": {
          "not": {
            "u_has_trait": "win"
          }
        },
        "effect": [
          {
            "u_add_trait": "win"
          },
          {
            "u_lose_trait": "entered_casino"
          },
          {
            "u_lose_trait": "gala_trait"
          },
          {
            "mapgen_update": "elijah_mapgen"
          },
          {
            "mapgen_update": "close_vault_trap_mapgen",
            "om_terrain": "sm_vault"
          }
        ]
      },
      {
        "text": "退出",
        "topic": "TALK_DONE",
        "condition": {
          "not": {
            "u_has_trait": "win"
          }
        },
        "effect": [
          {
            "u_add_trait": "win"
          },
          {
            "u_lose_trait": "entered_casino"
          },
          {
            "u_lose_trait": "gala_trait"
          },
          {
            "mapgen_update": "elijah_mapgen"
          },
          {
            "mapgen_update": "close_vault_trap_mapgen",
            "om_terrain": "sm_vault"
          }
        ]
      },
      {
        "text": "维拉凯斯",
        "condition": {
          "u_has_trait": "win"
        },
        "topic": "KEYES"
      },
      {
        "text": "维拉",
        "condition": {
          "u_has_trait": "win"
        },
        "topic": "VERA"
      },
      {
        "text": "退出",
        "condition": {
          "u_has_trait": "win"
        },
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "KEYES",
    "type": "talk_topic",
    "dynamic_line": "全息磁盘提取。无法找到文件…",
    "responses": [
      {
        "text": "返回",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "id": "VERA",
    "type": "talk_topic",
    "dynamic_line": "重要的！薇拉，快读…",
    "responses": [
      {
        "text": "致维拉",
        "topic": "LETTER"
      },
      {
        "text": "返回",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "id": "LETTER",
    "type": "talk_topic",
    "dynamic_line": "维拉，如果你读到这篇文章，我的恐惧已经过去，这是一个道歉。我希望你明白我最后的话对你意味着什么。如果是这样，他们就把你带到这里来了，这个地方会保护你的安全。我知道他们对我意味着什么，我担心他们把我困在这里了。在我们今晚的谈话之后，我已经摘录了前面的条目。对你来说这不容易，我很抱歉让你默默忍受。我知道，虽然你不爱我，但你所做的一切并没有恶意。在你告诉我之前我就知道你和迪恩一起抢劫赌场的计划。听你这么说并没有让事情变得简单。值得一提的是，我很高兴你自己告诉了我，我也理解了他手里的磁带。我不认为你们中的任何一个意识到你的瘾源于什么，然而，这就是悲剧。不管怎样，我怀疑世界不会相信你，所以我尊重你不让别人知道的愿望。",
    "responses": [
      {
        "text": "…",
        "topic": "LETTER2"
      }
    ]
  },
  {
    "id": "LETTER2",
    "type": "talk_topic",
    "dynamic_line": "当我第一次建造这个别墅，这个赌场的时候，我是为你准备的。当这个世界似乎一头栽向战争的时候，我的愿望之一就是保护你。贷款，我投入赌场建设的资金…我知道战争什么时候来临并不重要。这是我创造一个庇护所的手段，如果世界受到辐射和炸弹的轰炸，这是一种防御。当迪恩通过我们的介绍无意中透露了他的计划时，我意识到发生了什么，以及我是如何被欺骗的。有一段时间，我的思想是黑暗的。我把赌场的金库从一个庇护所改成了一个陷阱，因为我知道第一个进去的是迪恩。他会死在这里，那是他亲手造成的。不过，我担心自己越界了，赌场里唯一安全的地方就是金库。我试过重新连接系统，改变协议，但我做不到。我再检查一下外面平台边上的管子，看看能不能做点什么。恐怕没用。如果你来这里，不要进入我的个人账户。它只包含一条给迪恩的信息，它会封住门，你就没有出路了——甚至电梯设计成在门关上时自动返回，它会锁定到位。保险库里应该有足够的东西支撑你直到救援到来。我保证这里有足够的医疗用品让你舒服。全息图应该保护赌场免受任何攻击者的攻击，而别墅中的全息图信标将广播紧急信号，以便其他人知道你在这里。危险过去了，救援就来了。我希望你能读到这篇文章，并且知道我爱你，弗雷德里克·辛克莱。",
    "responses": [
      {
        "text": "返回",
        "topic": "MENU"
      }
    ]
  },
  {
    "id": "MENU",
    "type": "talk_topic",
    "dynamic_line": "马德雷赌场控制网",
    "responses": [
      {
        "text": "维拉凯斯",
        "topic": "KEYES"
      },
      {
        "text": "辛克莱的个人账户",
        "topic": "ACCOUNT"
      },
      {
        "text": "退出",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "ACCOUNT",
    "type": "talk_topic",
    "dynamic_line": "警告：仅限私人访问。打开个人日志？",
    "responses": [
      {
        "text": "是",
        "topic": "TRAP2"
      },
      {
        "text": "否",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "id": "TRAP2",
    "type": "talk_topic",
    "dynamic_line": "迪恩，如果你在读这个，这是给你的告别。你将有很多年的时间来阅读这封信。为什么你在我面前微笑，拿着匕首对着我，我不知道。你很富有，受人尊敬…甚至被许多人羡慕、爱戴。当你最终在这里过世的时候，无论是你自己的手还是饥饿，你要知道你的贪婪把你带到了这里，我无法理解。你已经养成了利用别人达到自己目的的习惯。现在，马德雷赌场是你的奖赏。不管你是用敲诈还是武力，甚至是玩弄薇拉的贪婪，在金库里都无济于事。贪婪把你带到了这里。我希望它让你像你离开我一样空虚。大门已经闭锁上了，电梯断线了。即使是薇拉的声音也无法解开它。你要知道，在庆祝活动的那天晚上，我会举杯低语，“Fortunato”。在佩斯的《还魂曲》中。——弗雷德里克·辛克莱",
    "responses": [
      {
        "text": "退出",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_first_topic": "ERROR"
          },
          {
            "mapgen_update": "trap_mapgen"
          }
        ]
      }
    ]
  },
  {
    "id": "ERROR",
    "type": "talk_topic",
    "dynamic_line": "错误：终端已锁定",
    "responses": [
      {
        "text": "退出",
        "topic": "TALK_DONE"
      }
    ]
  }
]